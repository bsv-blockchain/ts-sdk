<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="TypeScript SDK for Bitcoin SV"><link href=https://bsv-blockchain.github.io/ts-sdk/reference/auth/ rel=canonical><link href=../op-codes/ rel=prev><link href=../compat/ rel=next><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.17"><title>Auth - BSV TypeScript SDK</title><link rel=stylesheet href=../../assets/stylesheets/main.7e37652d.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#api class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="BSV TypeScript SDK" class="md-header__button md-logo" aria-label="BSV TypeScript SDK" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> BSV TypeScript SDK </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Auth </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/bsv-blockchain/ts-sdk title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> bsv-blockchain/ts-sdk </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="BSV TypeScript SDK" class="md-nav__button md-logo" aria-label="BSV TypeScript SDK" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> BSV TypeScript SDK </label> <div class=md-nav__source> <a href=https://github.com/bsv-blockchain/ts-sdk title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> bsv-blockchain/ts-sdk </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2> <div class="md-nav__link md-nav__container"> <a href=../../tutorials/ class="md-nav__link "> <span class=md-ellipsis> Tutorials </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tutorials/first-transaction/ class=md-nav__link> <span class=md-ellipsis> First Transaction </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/key-management/ class=md-nav__link> <span class=md-ellipsis> Key Management </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/transaction-broadcasting/ class=md-nav__link> <span class=md-ellipsis> Transaction Broadcasting </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/transaction-types/ class=md-nav__link> <span class=md-ellipsis> Transaction Types </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex=0> <span class=md-ellipsis> Cryptography </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Cryptography </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tutorials/aes-encryption/ class=md-nav__link> <span class=md-ellipsis> AES Encryption </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/ecdh-key-exchange/ class=md-nav__link> <span class=md-ellipsis> ECDH Key Exchange </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/elliptic-curve-fundamentals/ class=md-nav__link> <span class=md-ellipsis> Elliptic Curve Fundamentals </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/hashes-and-hmacs/ class=md-nav__link> <span class=md-ellipsis> Hashes and HMACs </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/type-42/ class=md-nav__link> <span class=md-ellipsis> Type-42 Key Derivation </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4 id=__nav_2_4_label tabindex=0> <span class=md-ellipsis> Advanced Topics </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Advanced Topics </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tutorials/advanced-transaction/ class=md-nav__link> <span class=md-ellipsis> Advanced Transaction Construction </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/script-construction/ class=md-nav__link> <span class=md-ellipsis> Script Construction </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/spv-merkle-proofs/ class=md-nav__link> <span class=md-ellipsis> SPV and Merkle Proofs </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/error-handling/ class=md-nav__link> <span class=md-ellipsis> Error Handling </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_5> <label class=md-nav__link for=__nav_2_5 id=__nav_2_5_label tabindex=0> <span class=md-ellipsis> Low-Level APIs </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5> <span class="md-nav__icon md-icon"></span> Low-Level APIs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tutorials/first-transaction-low-level/ class=md-nav__link> <span class=md-ellipsis> First Transaction (Low-Level) </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/testnet-transactions-low-level/ class=md-nav__link> <span class=md-ellipsis> Testnet Transactions (Low-Level) </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_6> <label class=md-nav__link for=__nav_2_6 id=__nav_2_6_label tabindex=0> <span class=md-ellipsis> Specialized Tools </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_6_label aria-expanded=false> <label class=md-nav__title for=__nav_2_6> <span class="md-nav__icon md-icon"></span> Specialized Tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tutorials/authfetch-tutorial/ class=md-nav__link> <span class=md-ellipsis> AuthFetch Tutorial </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/identity-management/ class=md-nav__link> <span class=md-ellipsis> Identity Management </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/protowallet-development/ class=md-nav__link> <span class=md-ellipsis> ProtoWallet Development </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/uhrp-storage/ class=md-nav__link> <span class=md-ellipsis> UHRP Storage </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3> <div class="md-nav__link md-nav__container"> <a href=../../guides/ class="md-nav__link "> <span class=md-ellipsis> How-to Guides </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> How-to Guides </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class=md-ellipsis> Transaction Management </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> Transaction Management </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../guides/advanced-transaction-signing.md class=md-nav__link> <span class=md-ellipsis> Advanced Transaction Signing </span> </a> </li> <li class=md-nav__item> <a href=../../guides/direct-transaction-creation/ class=md-nav__link> <span class=md-ellipsis> Direct Transaction Creation </span> </a> </li> <li class=md-nav__item> <a href=../../guides/large-transactions/ class=md-nav__link> <span class=md-ellipsis> Large Transactions </span> </a> </li> <li class=md-nav__item> <a href=../../guides/multisig-transactions/ class=md-nav__link> <span class=md-ellipsis> Multi-signature Transactions </span> </a> </li> <li class=md-nav__item> <a href=../../guides/transaction-batching/ class=md-nav__link> <span class=md-ellipsis> Transaction Batching </span> </a> </li> <li class=md-nav__item> <a href=../../guides/transaction-monitoring.md class=md-nav__link> <span class=md-ellipsis> Transaction Monitoring </span> </a> </li> <li class=md-nav__item> <a href=../../guides/transaction-signing-methods/ class=md-nav__link> <span class=md-ellipsis> Transaction Signing Methods </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex=0> <span class=md-ellipsis> Cryptographic Operations </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Cryptographic Operations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../guides/security-best-practices/ class=md-nav__link> <span class=md-ellipsis> Security Best Practices </span> </a> </li> <li class=md-nav__item> <a href=../../guides/complex-signatures.md class=md-nav__link> <span class=md-ellipsis> Complex Signatures </span> </a> </li> <li class=md-nav__item> <a href=../../guides/custom-key-derivation.md class=md-nav__link> <span class=md-ellipsis> Custom Key Derivation </span> </a> </li> <li class=md-nav__item> <a href=../../guides/encrypted-messages.md class=md-nav__link> <span class=md-ellipsis> Encrypted Messages </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4 id=__nav_3_4_label tabindex=0> <span class=md-ellipsis> Network and Broadcasting </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> Network and Broadcasting </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../guides/chain-tracking.md class=md-nav__link> <span class=md-ellipsis> Chain Tracking </span> </a> </li> <li class=md-nav__item> <a href=../../guides/custom-broadcasters.md class=md-nav__link> <span class=md-ellipsis> Custom Broadcasters </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_5> <label class=md-nav__link for=__nav_3_5 id=__nav_3_5_label tabindex=0> <span class=md-ellipsis> Authentication and Communication </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> Authentication and Communication </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../guides/authenticated-api-communication.md class=md-nav__link> <span class=md-ellipsis> Authenticated API Communication </span> </a> </li> <li class=md-nav__item> <a href=../../guides/http-client-configuration/ class=md-nav__link> <span class=md-ellipsis> HTTP Client Configuration </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_6> <label class=md-nav__link for=__nav_3_6 id=__nav_3_6_label tabindex=0> <span class=md-ellipsis> Development and Integration </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_6_label aria-expanded=false> <label class=md-nav__title for=__nav_3_6> <span class="md-nav__icon md-icon"></span> Development and Integration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../guides/development-wallet-setup/ class=md-nav__link> <span class=md-ellipsis> Development Wallet Setup </span> </a> </li> <li class=md-nav__item> <a href=../../guides/react-integration.md class=md-nav__link> <span class=md-ellipsis> React Integration </span> </a> </li> <li class=md-nav__item> <a href=../../guides/identity-verification-systems.md class=md-nav__link> <span class=md-ellipsis> Identity Verification Systems </span> </a> </li> <li class=md-nav__item> <a href=../../guides/file-upload-download.md class=md-nav__link> <span class=md-ellipsis> File Upload/Download </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> Reference </span> </a> <label class="md-nav__link " for=__nav_4 id=__nav_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> Standards and Interfaces </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Standards and Interfaces </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../brc-100/ class=md-nav__link> <span class=md-ellipsis> BRC-100 Wallet Interface </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class=md-ellipsis> Core Classes </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Core Classes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../primitives/ class=md-nav__link> <span class=md-ellipsis> Primitives </span> </a> </li> <li class=md-nav__item> <a href=../script/ class=md-nav__link> <span class=md-ellipsis> Script </span> </a> </li> <li class=md-nav__item> <a href=../transaction/ class=md-nav__link> <span class=md-ellipsis> Transaction </span> </a> </li> <li class=md-nav__item> <a href=../transaction-signatures/ class=md-nav__link> <span class=md-ellipsis> Transaction Signatures </span> </a> </li> <li class=md-nav__item> <a href=../op-codes/ class=md-nav__link> <span class=md-ellipsis> OP Codes </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4 checked> <label class=md-nav__link for=__nav_4_4 id=__nav_4_4_label tabindex=0> <span class=md-ellipsis> Module Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> Module Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Auth </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Auth </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#interfaces class=md-nav__link> <span class=md-ellipsis> Interfaces </span> </a> <nav class=md-nav aria-label=Interfaces> <ul class=md-nav__list> <li class=md-nav__item> <a href=#interface-authmessage class=md-nav__link> <span class=md-ellipsis> Interface: AuthMessage </span> </a> </li> <li class=md-nav__item> <a href=#interface-peersession class=md-nav__link> <span class=md-ellipsis> Interface: PeerSession </span> </a> </li> <li class=md-nav__item> <a href=#interface-requestedcertificateset class=md-nav__link> <span class=md-ellipsis> Interface: RequestedCertificateSet </span> </a> </li> <li class=md-nav__item> <a href=#interface-requestedcertificatetypeidandfieldlist class=md-nav__link> <span class=md-ellipsis> Interface: RequestedCertificateTypeIDAndFieldList </span> </a> </li> <li class=md-nav__item> <a href=#interface-transport class=md-nav__link> <span class=md-ellipsis> Interface: Transport </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#class-authfetch class=md-nav__link> <span class=md-ellipsis> Class: AuthFetch </span> </a> <nav class=md-nav aria-label="Class: AuthFetch"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#constructor class=md-nav__link> <span class=md-ellipsis> Constructor </span> </a> </li> <li class=md-nav__item> <a href=#method-consumereceivedcertificates class=md-nav__link> <span class=md-ellipsis> Method consumeReceivedCertificates </span> </a> </li> <li class=md-nav__item> <a href=#method-fetch class=md-nav__link> <span class=md-ellipsis> Method fetch </span> </a> </li> <li class=md-nav__item> <a href=#method-sendcertificaterequest class=md-nav__link> <span class=md-ellipsis> Method sendCertificateRequest </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#class-certificate class=md-nav__link> <span class=md-ellipsis> Class: Certificate </span> </a> <nav class=md-nav aria-label="Class: Certificate"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#constructor_1 class=md-nav__link> <span class=md-ellipsis> Constructor </span> </a> </li> <li class=md-nav__item> <a href=#property-certifier class=md-nav__link> <span class=md-ellipsis> Property certifier </span> </a> </li> <li class=md-nav__item> <a href=#property-fields class=md-nav__link> <span class=md-ellipsis> Property fields </span> </a> </li> <li class=md-nav__item> <a href=#property-revocationoutpoint class=md-nav__link> <span class=md-ellipsis> Property revocationOutpoint </span> </a> </li> <li class=md-nav__item> <a href=#property-serialnumber class=md-nav__link> <span class=md-ellipsis> Property serialNumber </span> </a> </li> <li class=md-nav__item> <a href=#property-signature class=md-nav__link> <span class=md-ellipsis> Property signature </span> </a> </li> <li class=md-nav__item> <a href=#property-subject class=md-nav__link> <span class=md-ellipsis> Property subject </span> </a> </li> <li class=md-nav__item> <a href=#property-type class=md-nav__link> <span class=md-ellipsis> Property type </span> </a> </li> <li class=md-nav__item> <a href=#method-frombinary class=md-nav__link> <span class=md-ellipsis> Method fromBinary </span> </a> </li> <li class=md-nav__item> <a href=#method-getcertificatefieldencryptiondetails class=md-nav__link> <span class=md-ellipsis> Method getCertificateFieldEncryptionDetails </span> </a> </li> <li class=md-nav__item> <a href=#method-sign class=md-nav__link> <span class=md-ellipsis> Method sign </span> </a> </li> <li class=md-nav__item> <a href=#method-tobinary class=md-nav__link> <span class=md-ellipsis> Method toBinary </span> </a> </li> <li class=md-nav__item> <a href=#method-verify class=md-nav__link> <span class=md-ellipsis> Method verify </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#class-completedprotowallet class=md-nav__link> <span class=md-ellipsis> Class: CompletedProtoWallet </span> </a> </li> <li class=md-nav__item> <a href=#class-mastercertificate class=md-nav__link> <span class=md-ellipsis> Class: MasterCertificate </span> </a> <nav class=md-nav aria-label="Class: MasterCertificate"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#method-createcertificatefields class=md-nav__link> <span class=md-ellipsis> Method createCertificateFields </span> </a> </li> <li class=md-nav__item> <a href=#method-createkeyringforverifier class=md-nav__link> <span class=md-ellipsis> Method createKeyringForVerifier </span> </a> </li> <li class=md-nav__item> <a href=#method-decryptfields class=md-nav__link> <span class=md-ellipsis> Method decryptFields </span> </a> </li> <li class=md-nav__item> <a href=#method-issuecertificateforsubject class=md-nav__link> <span class=md-ellipsis> Method issueCertificateForSubject </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#class-peer class=md-nav__link> <span class=md-ellipsis> Class: Peer </span> </a> <nav class=md-nav aria-label="Class: Peer"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#constructor_2 class=md-nav__link> <span class=md-ellipsis> Constructor </span> </a> </li> <li class=md-nav__item> <a href=#method-getauthenticatedsession class=md-nav__link> <span class=md-ellipsis> Method getAuthenticatedSession </span> </a> </li> <li class=md-nav__item> <a href=#method-listenforcertificatesreceived class=md-nav__link> <span class=md-ellipsis> Method listenForCertificatesReceived </span> </a> </li> <li class=md-nav__item> <a href=#method-listenforcertificatesrequested class=md-nav__link> <span class=md-ellipsis> Method listenForCertificatesRequested </span> </a> </li> <li class=md-nav__item> <a href=#method-listenforgeneralmessages class=md-nav__link> <span class=md-ellipsis> Method listenForGeneralMessages </span> </a> </li> <li class=md-nav__item> <a href=#method-requestcertificates class=md-nav__link> <span class=md-ellipsis> Method requestCertificates </span> </a> </li> <li class=md-nav__item> <a href=#method-sendcertificateresponse class=md-nav__link> <span class=md-ellipsis> Method sendCertificateResponse </span> </a> </li> <li class=md-nav__item> <a href=#method-stoplisteningforcertificatesreceived class=md-nav__link> <span class=md-ellipsis> Method stopListeningForCertificatesReceived </span> </a> </li> <li class=md-nav__item> <a href=#method-stoplisteningforcertificatesrequested class=md-nav__link> <span class=md-ellipsis> Method stopListeningForCertificatesRequested </span> </a> </li> <li class=md-nav__item> <a href=#method-stoplisteningforgeneralmessages class=md-nav__link> <span class=md-ellipsis> Method stopListeningForGeneralMessages </span> </a> </li> <li class=md-nav__item> <a href=#method-topeer class=md-nav__link> <span class=md-ellipsis> Method toPeer </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#class-sessionmanager class=md-nav__link> <span class=md-ellipsis> Class: SessionManager </span> </a> <nav class=md-nav aria-label="Class: SessionManager"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#method-addsession class=md-nav__link> <span class=md-ellipsis> Method addSession </span> </a> </li> <li class=md-nav__item> <a href=#method-getsession class=md-nav__link> <span class=md-ellipsis> Method getSession </span> </a> </li> <li class=md-nav__item> <a href=#method-hassession class=md-nav__link> <span class=md-ellipsis> Method hasSession </span> </a> </li> <li class=md-nav__item> <a href=#method-removesession class=md-nav__link> <span class=md-ellipsis> Method removeSession </span> </a> </li> <li class=md-nav__item> <a href=#method-updatesession class=md-nav__link> <span class=md-ellipsis> Method updateSession </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#class-simplifiedfetchtransport class=md-nav__link> <span class=md-ellipsis> Class: SimplifiedFetchTransport </span> </a> <nav class=md-nav aria-label="Class: SimplifiedFetchTransport"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#constructor_3 class=md-nav__link> <span class=md-ellipsis> Constructor </span> </a> </li> <li class=md-nav__item> <a href=#method-deserializerequestpayload class=md-nav__link> <span class=md-ellipsis> Method deserializeRequestPayload </span> </a> </li> <li class=md-nav__item> <a href=#method-ondata class=md-nav__link> <span class=md-ellipsis> Method onData </span> </a> </li> <li class=md-nav__item> <a href=#method-send class=md-nav__link> <span class=md-ellipsis> Method send </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#class-verifiablecertificate class=md-nav__link> <span class=md-ellipsis> Class: VerifiableCertificate </span> </a> <nav class=md-nav aria-label="Class: VerifiableCertificate"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#method-decryptfields_1 class=md-nav__link> <span class=md-ellipsis> Method decryptFields </span> </a> </li> <li class=md-nav__item> <a href=#method-fromcertificate class=md-nav__link> <span class=md-ellipsis> Method fromCertificate </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> <nav class=md-nav aria-label=Functions> <ul class=md-nav__list> <li class=md-nav__item> <a href=#function-createnonce class=md-nav__link> <span class=md-ellipsis> Function: createNonce </span> </a> </li> <li class=md-nav__item> <a href=#function-verifynonce class=md-nav__link> <span class=md-ellipsis> Function: verifyNonce </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#types class=md-nav__link> <span class=md-ellipsis> Types </span> </a> </li> <li class=md-nav__item> <a href=#enums class=md-nav__link> <span class=md-ellipsis> Enums </span> </a> </li> <li class=md-nav__item> <a href=#variables class=md-nav__link> <span class=md-ellipsis> Variables </span> </a> <nav class=md-nav aria-label=Variables> <ul class=md-nav__list> <li class=md-nav__item> <a href=#variable-getverifiablecertificates class=md-nav__link> <span class=md-ellipsis> Variable: getVerifiableCertificates </span> </a> </li> <li class=md-nav__item> <a href=#variable-validatecertificates class=md-nav__link> <span class=md-ellipsis> Variable: validateCertificates </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../compat/ class=md-nav__link> <span class=md-ellipsis> Compat </span> </a> </li> <li class=md-nav__item> <a href=../identity/ class=md-nav__link> <span class=md-ellipsis> Identity </span> </a> </li> <li class=md-nav__item> <a href=../kvstore/ class=md-nav__link> <span class=md-ellipsis> KV Store </span> </a> </li> <li class=md-nav__item> <a href=../messages/ class=md-nav__link> <span class=md-ellipsis> Messages </span> </a> </li> <li class=md-nav__item> <a href=../overlay-tools/ class=md-nav__link> <span class=md-ellipsis> Overlay Tools </span> </a> </li> <li class=md-nav__item> <a href=../registry/ class=md-nav__link> <span class=md-ellipsis> Registry </span> </a> </li> <li class=md-nav__item> <a href=../storage/ class=md-nav__link> <span class=md-ellipsis> Storage </span> </a> </li> <li class=md-nav__item> <a href=../totp/ class=md-nav__link> <span class=md-ellipsis> TOTP </span> </a> </li> <li class=md-nav__item> <a href=../wallet/ class=md-nav__link> <span class=md-ellipsis> Wallet </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4_5> <label class=md-nav__link for=__nav_4_5 id=__nav_4_5_label tabindex=0> <span class=md-ellipsis> Configuration </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> Configuration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../arc-config/ class=md-nav__link> <span class=md-ellipsis> ARC Config </span> </a> </li> <li class=md-nav__item> <a href=../configuration/ class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> </li> <li class=md-nav__item> <a href=../network-config/ class=md-nav__link> <span class=md-ellipsis> Network Config </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4_6> <label class=md-nav__link for=__nav_4_6 id=__nav_4_6_label tabindex=0> <span class=md-ellipsis> Development </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_6_label aria-expanded=false> <label class=md-nav__title for=__nav_4_6> <span class="md-nav__icon md-icon"></span> Development </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../debugging/ class=md-nav__link> <span class=md-ellipsis> Debugging </span> </a> </li> <li class=md-nav__item> <a href=../errors/ class=md-nav__link> <span class=md-ellipsis> Errors </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5> <div class="md-nav__link md-nav__container"> <a href=../../concepts/ class="md-nav__link "> <span class=md-ellipsis> Concepts </span> </a> <label class="md-nav__link " for=__nav_5 id=__nav_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex=0> <span class=md-ellipsis> Core Concepts </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Core Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../concepts/sdk-philosophy/ class=md-nav__link> <span class=md-ellipsis> SDK Philosophy </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/transaction-structure/ class=md-nav__link> <span class=md-ellipsis> Transaction Structure </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/transaction-encoding/ class=md-nav__link> <span class=md-ellipsis> Transaction Encoding </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/key-management/ class=md-nav__link> <span class=md-ellipsis> Key Management </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/wallet-integration/ class=md-nav__link> <span class=md-ellipsis> Wallet Integration </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5_3> <label class=md-nav__link for=__nav_5_3 id=__nav_5_3_label tabindex=0> <span class=md-ellipsis> Bitcoin Protocol </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_3_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> Bitcoin Protocol </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../concepts/beef/ class=md-nav__link> <span class=md-ellipsis> BEEF </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/script-templates/ class=md-nav__link> <span class=md-ellipsis> Script Templates </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/signatures/ class=md-nav__link> <span class=md-ellipsis> Signatures </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/fees/ class=md-nav__link> <span class=md-ellipsis> Fees </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/verification/ class=md-nav__link> <span class=md-ellipsis> Verification </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5_4> <label class=md-nav__link for=__nav_5_4 id=__nav_5_4_label tabindex=0> <span class=md-ellipsis> Architecture </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_4_label aria-expanded=false> <label class=md-nav__title for=__nav_5_4> <span class="md-nav__icon md-icon"></span> Architecture </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../concepts/chain-tracking/ class=md-nav__link> <span class=md-ellipsis> Chain Tracking </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/spv-verification/ class=md-nav__link> <span class=md-ellipsis> SPV Verification </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/trust-model/ class=md-nav__link> <span class=md-ellipsis> Trust Model </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5_5> <label class=md-nav__link for=__nav_5_5 id=__nav_5_5_label tabindex=0> <span class=md-ellipsis> Identity and Certificates </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5_5> <span class="md-nav__icon md-icon"></span> Identity and Certificates </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../concepts/decentralized-identity/ class=md-nav__link> <span class=md-ellipsis> Decentralized Identity </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/identity-certificates/ class=md-nav__link> <span class=md-ellipsis> Identity Certificates </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6> <div class="md-nav__link md-nav__container"> <a href=../../swagger/ class="md-nav__link "> <span class=md-ellipsis> API Documentation </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> API Documentation </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#interfaces class=md-nav__link> <span class=md-ellipsis> Interfaces </span> </a> <nav class=md-nav aria-label=Interfaces> <ul class=md-nav__list> <li class=md-nav__item> <a href=#interface-authmessage class=md-nav__link> <span class=md-ellipsis> Interface: AuthMessage </span> </a> </li> <li class=md-nav__item> <a href=#interface-peersession class=md-nav__link> <span class=md-ellipsis> Interface: PeerSession </span> </a> </li> <li class=md-nav__item> <a href=#interface-requestedcertificateset class=md-nav__link> <span class=md-ellipsis> Interface: RequestedCertificateSet </span> </a> </li> <li class=md-nav__item> <a href=#interface-requestedcertificatetypeidandfieldlist class=md-nav__link> <span class=md-ellipsis> Interface: RequestedCertificateTypeIDAndFieldList </span> </a> </li> <li class=md-nav__item> <a href=#interface-transport class=md-nav__link> <span class=md-ellipsis> Interface: Transport </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#class-authfetch class=md-nav__link> <span class=md-ellipsis> Class: AuthFetch </span> </a> <nav class=md-nav aria-label="Class: AuthFetch"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#constructor class=md-nav__link> <span class=md-ellipsis> Constructor </span> </a> </li> <li class=md-nav__item> <a href=#method-consumereceivedcertificates class=md-nav__link> <span class=md-ellipsis> Method consumeReceivedCertificates </span> </a> </li> <li class=md-nav__item> <a href=#method-fetch class=md-nav__link> <span class=md-ellipsis> Method fetch </span> </a> </li> <li class=md-nav__item> <a href=#method-sendcertificaterequest class=md-nav__link> <span class=md-ellipsis> Method sendCertificateRequest </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#class-certificate class=md-nav__link> <span class=md-ellipsis> Class: Certificate </span> </a> <nav class=md-nav aria-label="Class: Certificate"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#constructor_1 class=md-nav__link> <span class=md-ellipsis> Constructor </span> </a> </li> <li class=md-nav__item> <a href=#property-certifier class=md-nav__link> <span class=md-ellipsis> Property certifier </span> </a> </li> <li class=md-nav__item> <a href=#property-fields class=md-nav__link> <span class=md-ellipsis> Property fields </span> </a> </li> <li class=md-nav__item> <a href=#property-revocationoutpoint class=md-nav__link> <span class=md-ellipsis> Property revocationOutpoint </span> </a> </li> <li class=md-nav__item> <a href=#property-serialnumber class=md-nav__link> <span class=md-ellipsis> Property serialNumber </span> </a> </li> <li class=md-nav__item> <a href=#property-signature class=md-nav__link> <span class=md-ellipsis> Property signature </span> </a> </li> <li class=md-nav__item> <a href=#property-subject class=md-nav__link> <span class=md-ellipsis> Property subject </span> </a> </li> <li class=md-nav__item> <a href=#property-type class=md-nav__link> <span class=md-ellipsis> Property type </span> </a> </li> <li class=md-nav__item> <a href=#method-frombinary class=md-nav__link> <span class=md-ellipsis> Method fromBinary </span> </a> </li> <li class=md-nav__item> <a href=#method-getcertificatefieldencryptiondetails class=md-nav__link> <span class=md-ellipsis> Method getCertificateFieldEncryptionDetails </span> </a> </li> <li class=md-nav__item> <a href=#method-sign class=md-nav__link> <span class=md-ellipsis> Method sign </span> </a> </li> <li class=md-nav__item> <a href=#method-tobinary class=md-nav__link> <span class=md-ellipsis> Method toBinary </span> </a> </li> <li class=md-nav__item> <a href=#method-verify class=md-nav__link> <span class=md-ellipsis> Method verify </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#class-completedprotowallet class=md-nav__link> <span class=md-ellipsis> Class: CompletedProtoWallet </span> </a> </li> <li class=md-nav__item> <a href=#class-mastercertificate class=md-nav__link> <span class=md-ellipsis> Class: MasterCertificate </span> </a> <nav class=md-nav aria-label="Class: MasterCertificate"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#method-createcertificatefields class=md-nav__link> <span class=md-ellipsis> Method createCertificateFields </span> </a> </li> <li class=md-nav__item> <a href=#method-createkeyringforverifier class=md-nav__link> <span class=md-ellipsis> Method createKeyringForVerifier </span> </a> </li> <li class=md-nav__item> <a href=#method-decryptfields class=md-nav__link> <span class=md-ellipsis> Method decryptFields </span> </a> </li> <li class=md-nav__item> <a href=#method-issuecertificateforsubject class=md-nav__link> <span class=md-ellipsis> Method issueCertificateForSubject </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#class-peer class=md-nav__link> <span class=md-ellipsis> Class: Peer </span> </a> <nav class=md-nav aria-label="Class: Peer"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#constructor_2 class=md-nav__link> <span class=md-ellipsis> Constructor </span> </a> </li> <li class=md-nav__item> <a href=#method-getauthenticatedsession class=md-nav__link> <span class=md-ellipsis> Method getAuthenticatedSession </span> </a> </li> <li class=md-nav__item> <a href=#method-listenforcertificatesreceived class=md-nav__link> <span class=md-ellipsis> Method listenForCertificatesReceived </span> </a> </li> <li class=md-nav__item> <a href=#method-listenforcertificatesrequested class=md-nav__link> <span class=md-ellipsis> Method listenForCertificatesRequested </span> </a> </li> <li class=md-nav__item> <a href=#method-listenforgeneralmessages class=md-nav__link> <span class=md-ellipsis> Method listenForGeneralMessages </span> </a> </li> <li class=md-nav__item> <a href=#method-requestcertificates class=md-nav__link> <span class=md-ellipsis> Method requestCertificates </span> </a> </li> <li class=md-nav__item> <a href=#method-sendcertificateresponse class=md-nav__link> <span class=md-ellipsis> Method sendCertificateResponse </span> </a> </li> <li class=md-nav__item> <a href=#method-stoplisteningforcertificatesreceived class=md-nav__link> <span class=md-ellipsis> Method stopListeningForCertificatesReceived </span> </a> </li> <li class=md-nav__item> <a href=#method-stoplisteningforcertificatesrequested class=md-nav__link> <span class=md-ellipsis> Method stopListeningForCertificatesRequested </span> </a> </li> <li class=md-nav__item> <a href=#method-stoplisteningforgeneralmessages class=md-nav__link> <span class=md-ellipsis> Method stopListeningForGeneralMessages </span> </a> </li> <li class=md-nav__item> <a href=#method-topeer class=md-nav__link> <span class=md-ellipsis> Method toPeer </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#class-sessionmanager class=md-nav__link> <span class=md-ellipsis> Class: SessionManager </span> </a> <nav class=md-nav aria-label="Class: SessionManager"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#method-addsession class=md-nav__link> <span class=md-ellipsis> Method addSession </span> </a> </li> <li class=md-nav__item> <a href=#method-getsession class=md-nav__link> <span class=md-ellipsis> Method getSession </span> </a> </li> <li class=md-nav__item> <a href=#method-hassession class=md-nav__link> <span class=md-ellipsis> Method hasSession </span> </a> </li> <li class=md-nav__item> <a href=#method-removesession class=md-nav__link> <span class=md-ellipsis> Method removeSession </span> </a> </li> <li class=md-nav__item> <a href=#method-updatesession class=md-nav__link> <span class=md-ellipsis> Method updateSession </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#class-simplifiedfetchtransport class=md-nav__link> <span class=md-ellipsis> Class: SimplifiedFetchTransport </span> </a> <nav class=md-nav aria-label="Class: SimplifiedFetchTransport"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#constructor_3 class=md-nav__link> <span class=md-ellipsis> Constructor </span> </a> </li> <li class=md-nav__item> <a href=#method-deserializerequestpayload class=md-nav__link> <span class=md-ellipsis> Method deserializeRequestPayload </span> </a> </li> <li class=md-nav__item> <a href=#method-ondata class=md-nav__link> <span class=md-ellipsis> Method onData </span> </a> </li> <li class=md-nav__item> <a href=#method-send class=md-nav__link> <span class=md-ellipsis> Method send </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#class-verifiablecertificate class=md-nav__link> <span class=md-ellipsis> Class: VerifiableCertificate </span> </a> <nav class=md-nav aria-label="Class: VerifiableCertificate"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#method-decryptfields_1 class=md-nav__link> <span class=md-ellipsis> Method decryptFields </span> </a> </li> <li class=md-nav__item> <a href=#method-fromcertificate class=md-nav__link> <span class=md-ellipsis> Method fromCertificate </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> <nav class=md-nav aria-label=Functions> <ul class=md-nav__list> <li class=md-nav__item> <a href=#function-createnonce class=md-nav__link> <span class=md-ellipsis> Function: createNonce </span> </a> </li> <li class=md-nav__item> <a href=#function-verifynonce class=md-nav__link> <span class=md-ellipsis> Function: verifyNonce </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#types class=md-nav__link> <span class=md-ellipsis> Types </span> </a> </li> <li class=md-nav__item> <a href=#enums class=md-nav__link> <span class=md-ellipsis> Enums </span> </a> </li> <li class=md-nav__item> <a href=#variables class=md-nav__link> <span class=md-ellipsis> Variables </span> </a> <nav class=md-nav aria-label=Variables> <ul class=md-nav__list> <li class=md-nav__item> <a href=#variable-getverifiablecertificates class=md-nav__link> <span class=md-ellipsis> Variable: getVerifiableCertificates </span> </a> </li> <li class=md-nav__item> <a href=#variable-validatecertificates class=md-nav__link> <span class=md-ellipsis> Variable: validateCertificates </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=api>API</h1> <p>Links: <a href=#api>API</a>, <a href=#interfaces>Interfaces</a>, <a href=#classes>Classes</a>, <a href=#functions>Functions</a>, <a href=#types>Types</a>, <a href=#enums>Enums</a>, <a href=#variables>Variables</a></p> <h2 id=interfaces>Interfaces</h2> <table> <thead> <tr> <th></th> </tr> </thead> <tbody> <tr> <td><a href=#interface-authmessage>AuthMessage</a></td> </tr> <tr> <td><a href=#interface-peersession>PeerSession</a></td> </tr> <tr> <td><a href=#interface-requestedcertificateset>RequestedCertificateSet</a></td> </tr> <tr> <td><a href=#interface-requestedcertificatetypeidandfieldlist>RequestedCertificateTypeIDAndFieldList</a></td> </tr> <tr> <td><a href=#interface-transport>Transport</a></td> </tr> </tbody> </table> <p>Links: <a href=#api>API</a>, <a href=#interfaces>Interfaces</a>, <a href=#classes>Classes</a>, <a href=#functions>Functions</a>, <a href=#types>Types</a>, <a href=#enums>Enums</a>, <a href=#variables>Variables</a></p> <hr> <h3 id=interface-authmessage>Interface: AuthMessage</h3> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=k>export</span><span class=w> </span><span class=kd>interface</span><span class=w> </span><span class=nx>AuthMessage</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=w>    </span><span class=nx>version</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>;</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=w>    </span><span class=nx>messageType</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;initialRequest&quot;</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=s2>&quot;initialResponse&quot;</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=s2>&quot;certificateRequest&quot;</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=s2>&quot;certificateResponse&quot;</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=s2>&quot;general&quot;</span><span class=p>;</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=w>    </span><span class=nx>identityKey</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>;</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=w>    </span><span class=nx>nonce?</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>;</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=w>    </span><span class=nx>initialNonce?</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>;</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=w>    </span><span class=nx>yourNonce?</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>;</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=w>    </span><span class=nx>certificates?</span><span class=o>:</span><span class=w> </span><span class=kt>VerifiableCertificate</span><span class=p>[];</span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=w>    </span><span class=nx>requestedCertificates?</span><span class=o>:</span><span class=w> </span><span class=kt>RequestedCertificateSet</span><span class=p>;</span>
<a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=w>    </span><span class=nx>payload?</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=p>[];</span>
<a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=w>    </span><span class=nx>signature?</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=p>[];</span>
<a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a><span class=p>}</span>
</code></pre></div> <p>See also: <a href=./#interface-requestedcertificateset>RequestedCertificateSet</a>, <a href=./#class-verifiablecertificate>VerifiableCertificate</a></p> <p>Links: <a href=#api>API</a>, <a href=#interfaces>Interfaces</a>, <a href=#classes>Classes</a>, <a href=#functions>Functions</a>, <a href=#types>Types</a>, <a href=#enums>Enums</a>, <a href=#variables>Variables</a></p> <hr> <h3 id=interface-peersession>Interface: PeerSession</h3> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=k>export</span><span class=w> </span><span class=kd>interface</span><span class=w> </span><span class=nx>PeerSession</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=w>    </span><span class=nx>isAuthenticated</span><span class=o>:</span><span class=w> </span><span class=kt>boolean</span><span class=p>;</span>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=w>    </span><span class=nx>sessionNonce?</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>;</span>
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=w>    </span><span class=nx>peerNonce?</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>;</span>
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=w>    </span><span class=nx>peerIdentityKey?</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>;</span>
<a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=w>    </span><span class=nx>lastUpdate</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=p>;</span>
<a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=p>}</span>
</code></pre></div> <p>Links: <a href=#api>API</a>, <a href=#interfaces>Interfaces</a>, <a href=#classes>Classes</a>, <a href=#functions>Functions</a>, <a href=#types>Types</a>, <a href=#enums>Enums</a>, <a href=#variables>Variables</a></p> <hr> <h3 id=interface-requestedcertificateset>Interface: RequestedCertificateSet</h3> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=k>export</span><span class=w> </span><span class=kd>interface</span><span class=w> </span><span class=nx>RequestedCertificateSet</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=w>    </span><span class=nx>certifiers</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>[];</span>
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=w>    </span><span class=nx>types</span><span class=o>:</span><span class=w> </span><span class=kt>RequestedCertificateTypeIDAndFieldList</span><span class=p>;</span>
<a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=p>}</span>
</code></pre></div> <p>See also: <a href=./#interface-requestedcertificatetypeidandfieldlist>RequestedCertificateTypeIDAndFieldList</a></p> <p>Links: <a href=#api>API</a>, <a href=#interfaces>Interfaces</a>, <a href=#classes>Classes</a>, <a href=#functions>Functions</a>, <a href=#types>Types</a>, <a href=#enums>Enums</a>, <a href=#variables>Variables</a></p> <hr> <h3 id=interface-requestedcertificatetypeidandfieldlist>Interface: RequestedCertificateTypeIDAndFieldList</h3> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=k>export</span><span class=w> </span><span class=kd>interface</span><span class=w> </span><span class=nx>RequestedCertificateTypeIDAndFieldList</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=w>    </span><span class=p>[</span><span class=nx>certificateTypeID</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>]</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>[];</span>
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=p>}</span>
</code></pre></div> <p>Links: <a href=#api>API</a>, <a href=#interfaces>Interfaces</a>, <a href=#classes>Classes</a>, <a href=#functions>Functions</a>, <a href=#types>Types</a>, <a href=#enums>Enums</a>, <a href=#variables>Variables</a></p> <hr> <h3 id=interface-transport>Interface: Transport</h3> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=k>export</span><span class=w> </span><span class=kd>interface</span><span class=w> </span><span class=nx>Transport</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=w>    </span><span class=nx>send</span><span class=o>:</span><span class=w> </span><span class=p>(</span><span class=nx>message</span><span class=o>:</span><span class=w> </span><span class=kt>AuthMessage</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=ow>void</span><span class=o>&gt;</span><span class=p>;</span>
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=w>    </span><span class=nx>onData</span><span class=o>:</span><span class=w> </span><span class=p>(</span><span class=nx>callback</span><span class=o>:</span><span class=w> </span><span class=p>(</span><span class=nx>message</span><span class=o>:</span><span class=w> </span><span class=kt>AuthMessage</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=ow>void</span><span class=o>&gt;</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=ow>void</span><span class=o>&gt;</span><span class=p>;</span>
<a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=p>}</span>
</code></pre></div> <p>See also: <a href=./#interface-authmessage>AuthMessage</a></p> <p>Links: <a href=#api>API</a>, <a href=#interfaces>Interfaces</a>, <a href=#classes>Classes</a>, <a href=#functions>Functions</a>, <a href=#types>Types</a>, <a href=#enums>Enums</a>, <a href=#variables>Variables</a></p> <hr> <h2 id=classes>Classes</h2> <table> <thead> <tr> <th></th> </tr> </thead> <tbody> <tr> <td><a href=#class-authfetch>AuthFetch</a></td> </tr> <tr> <td><a href=#class-certificate>Certificate</a></td> </tr> <tr> <td><a href=#class-completedprotowallet>CompletedProtoWallet</a></td> </tr> <tr> <td><a href=#class-mastercertificate>MasterCertificate</a></td> </tr> <tr> <td><a href=#class-peer>Peer</a></td> </tr> <tr> <td><a href=#class-sessionmanager>SessionManager</a></td> </tr> <tr> <td><a href=#class-simplifiedfetchtransport>SimplifiedFetchTransport</a></td> </tr> <tr> <td><a href=#class-verifiablecertificate>VerifiableCertificate</a></td> </tr> </tbody> </table> <p>Links: <a href=#api>API</a>, <a href=#interfaces>Interfaces</a>, <a href=#classes>Classes</a>, <a href=#functions>Functions</a>, <a href=#types>Types</a>, <a href=#enums>Enums</a>, <a href=#variables>Variables</a></p> <hr> <h3 id=class-authfetch>Class: AuthFetch</h3> <p>AuthFetch provides a lightweight fetch client for interacting with servers over a simplified HTTP transport mechanism. It integrates session management, peer communication, and certificate handling to enable secure and mutually-authenticated requests.</p> <p>Additionally, it automatically handles 402 Payment Required responses by creating and sending BSV payment transactions when necessary.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=k>export</span><span class=w> </span><span class=kd>class</span><span class=w> </span><span class=nx>AuthFetch</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=w>    </span><span class=nx>peers</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>AuthPeer</span><span class=o>&gt;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{};</span>
<a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=w>    </span><span class=kr>constructor</span><span class=p>(</span><span class=nx>wallet</span><span class=o>:</span><span class=w> </span><span class=kt>WalletInterface</span><span class=p>,</span><span class=w> </span><span class=nx>requestedCertificates?</span><span class=o>:</span><span class=w> </span><span class=kt>RequestedCertificateSet</span><span class=p>,</span><span class=w> </span><span class=nx>sessionManager?</span><span class=o>:</span><span class=w> </span><span class=kt>SessionManager</span><span class=p>)</span><span class=w> </span>
<a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>fetch</span><span class=p>(</span><span class=nx>url</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>config</span><span class=o>:</span><span class=w> </span><span class=kt>SimplifiedFetchRequestOptions</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{})</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>Response</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>sendCertificateRequest</span><span class=p>(</span><span class=nx>baseUrl</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>certificatesToRequest</span><span class=o>:</span><span class=w> </span><span class=kt>RequestedCertificateSet</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>VerifiableCertificate</span><span class=p>[]</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=w>    </span><span class=k>public</span><span class=w> </span><span class=nx>consumeReceivedCertificates</span><span class=p>()</span><span class=o>:</span><span class=w> </span><span class=nx>VerifiableCertificate</span><span class=p>[]</span><span class=w> </span>
<a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=p>}</span>
</code></pre></div> <p>See also: <a href=./#interface-requestedcertificateset>RequestedCertificateSet</a>, <a href=./#class-sessionmanager>SessionManager</a>, <a href=./#class-verifiablecertificate>VerifiableCertificate</a>, <a href=../wallet/#interface-walletinterface>WalletInterface</a></p> <h4 id=constructor>Constructor</h4> <p>Constructs a new AuthFetch instance.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=kr>constructor</span><span class=p>(</span><span class=nx>wallet</span><span class=o>:</span><span class=w> </span><span class=kt>WalletInterface</span><span class=p>,</span><span class=w> </span><span class=nx>requestedCertificates?</span><span class=o>:</span><span class=w> </span><span class=kt>RequestedCertificateSet</span><span class=p>,</span><span class=w> </span><span class=nx>sessionManager?</span><span class=o>:</span><span class=w> </span><span class=kt>SessionManager</span><span class=p>)</span><span class=w> </span>
</code></pre></div> See also: <a href=./#interface-requestedcertificateset>RequestedCertificateSet</a>, <a href=./#class-sessionmanager>SessionManager</a>, <a href=../wallet/#interface-walletinterface>WalletInterface</a></p> <p>Argument Details</p> <ul> <li><strong>wallet</strong></li> <li>The wallet instance for signing and authentication.</li> <li><strong>requestedCertificates</strong></li> <li>Optional set of certificates to request from peers.</li> </ul> <h4 id=method-consumereceivedcertificates>Method consumeReceivedCertificates</h4> <p>Return any certificates we've collected thus far, then clear them out.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=k>public</span><span class=w> </span><span class=nx>consumeReceivedCertificates</span><span class=p>()</span><span class=o>:</span><span class=w> </span><span class=nx>VerifiableCertificate</span><span class=p>[]</span><span class=w> </span>
</code></pre></div> See also: <a href=./#class-verifiablecertificate>VerifiableCertificate</a></p> <h4 id=method-fetch>Method fetch</h4> <p>Mutually authenticates and sends a HTTP request to a server.</p> <p>1) Attempt the request. 2) If 402 Payment Required, automatically create and send payment. 3) Return the final response.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=k>async</span><span class=w> </span><span class=nx>fetch</span><span class=p>(</span><span class=nx>url</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>config</span><span class=o>:</span><span class=w> </span><span class=kt>SimplifiedFetchRequestOptions</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{})</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>Response</span><span class=o>&gt;</span><span class=w> </span>
</code></pre></div> <p>Returns</p> <p>A promise that resolves with the server's response, structured as a Response-like object.</p> <p>Argument Details</p> <ul> <li><strong>url</strong></li> <li>The URL to send the request to.</li> <li><strong>config</strong></li> <li>Configuration options for the request, including method, headers, and body.</li> </ul> <p>Throws</p> <p>Will throw an error if unsupported headers are used or other validation fails.</p> <h4 id=method-sendcertificaterequest>Method sendCertificateRequest</h4> <p>Request Certificates from a Peer</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=k>async</span><span class=w> </span><span class=nx>sendCertificateRequest</span><span class=p>(</span><span class=nx>baseUrl</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>certificatesToRequest</span><span class=o>:</span><span class=w> </span><span class=kt>RequestedCertificateSet</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>VerifiableCertificate</span><span class=p>[]</span><span class=o>&gt;</span><span class=w> </span>
</code></pre></div> See also: <a href=./#interface-requestedcertificateset>RequestedCertificateSet</a>, <a href=./#class-verifiablecertificate>VerifiableCertificate</a></p> <p>Links: <a href=#api>API</a>, <a href=#interfaces>Interfaces</a>, <a href=#classes>Classes</a>, <a href=#functions>Functions</a>, <a href=#types>Types</a>, <a href=#enums>Enums</a>, <a href=#variables>Variables</a></p> <hr> <h3 id=class-certificate>Class: Certificate</h3> <p>Represents an Identity Certificate as per the Wallet interface specifications.</p> <p>This class provides methods to serialize and deserialize certificates, as well as signing and verifying the certificate's signature.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>class</span><span class=w> </span><span class=nx>Certificate</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=w>    </span><span class=kr>type</span><span class=o>:</span><span class=w> </span><span class=nx>Base64String</span><span class=p>;</span>
<a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a><span class=w>    </span><span class=nx>serialNumber</span><span class=o>:</span><span class=w> </span><span class=kt>Base64String</span><span class=p>;</span>
<a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a><span class=w>    </span><span class=nx>subject</span><span class=o>:</span><span class=w> </span><span class=kt>PubKeyHex</span><span class=p>;</span>
<a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a><span class=w>    </span><span class=nx>certifier</span><span class=o>:</span><span class=w> </span><span class=kt>PubKeyHex</span><span class=p>;</span>
<a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a><span class=w>    </span><span class=nx>revocationOutpoint</span><span class=o>:</span><span class=w> </span><span class=kt>OutpointString</span><span class=p>;</span>
<a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a><span class=w>    </span><span class=nx>fields</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=nx>Base64String</span><span class=o>&gt;</span><span class=p>;</span>
<a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a><span class=w>    </span><span class=nx>signature?</span><span class=o>:</span><span class=w> </span><span class=kt>HexString</span><span class=p>;</span>
<a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a><span class=w>    </span><span class=kr>constructor</span><span class=p>(</span><span class=kr>type</span><span class=o>:</span><span class=w> </span><span class=nx>Base64String</span><span class=p>,</span><span class=w> </span><span class=nx>serialNumber</span><span class=o>:</span><span class=w> </span><span class=kt>Base64String</span><span class=p>,</span><span class=w> </span><span class=nx>subject</span><span class=o>:</span><span class=w> </span><span class=kt>PubKeyHex</span><span class=p>,</span><span class=w> </span><span class=nx>certifier</span><span class=o>:</span><span class=w> </span><span class=kt>PubKeyHex</span><span class=p>,</span><span class=w> </span><span class=nx>revocationOutpoint</span><span class=o>:</span><span class=w> </span><span class=kt>OutpointString</span><span class=p>,</span><span class=w> </span><span class=nx>fields</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=kt>string</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=nx>signature?</span><span class=o>:</span><span class=w> </span><span class=kt>HexString</span><span class=p>)</span><span class=w> </span>
<a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a><span class=w>    </span><span class=nx>toBinary</span><span class=p>(</span><span class=nx>includeSignature</span><span class=o>:</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>true</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=p>[]</span><span class=w> </span>
<a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a><span class=w>    </span><span class=k>static</span><span class=w> </span><span class=nx>fromBinary</span><span class=p>(</span><span class=nx>bin</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=p>[])</span><span class=o>:</span><span class=w> </span><span class=nx>Certificate</span><span class=w> </span>
<a id=__codelineno-10-12 name=__codelineno-10-12 href=#__codelineno-10-12></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>verify</span><span class=p>()</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=kt>boolean</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-10-13 name=__codelineno-10-13 href=#__codelineno-10-13></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>sign</span><span class=p>(</span><span class=nx>certifierWallet</span><span class=o>:</span><span class=w> </span><span class=kt>ProtoWallet</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=ow>void</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-10-14 name=__codelineno-10-14 href=#__codelineno-10-14></a><span class=w>    </span><span class=k>static</span><span class=w> </span><span class=nx>getCertificateFieldEncryptionDetails</span><span class=p>(</span><span class=nx>fieldName</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>serialNumber?</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-10-15 name=__codelineno-10-15 href=#__codelineno-10-15></a><span class=w>        </span><span class=nx>protocolID</span><span class=o>:</span><span class=w> </span><span class=kt>WalletProtocol</span><span class=p>;</span>
<a id=__codelineno-10-16 name=__codelineno-10-16 href=#__codelineno-10-16></a><span class=w>        </span><span class=nx>keyID</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>;</span>
<a id=__codelineno-10-17 name=__codelineno-10-17 href=#__codelineno-10-17></a><span class=w>    </span><span class=p>}</span><span class=w> </span>
<a id=__codelineno-10-18 name=__codelineno-10-18 href=#__codelineno-10-18></a><span class=p>}</span>
</code></pre></div> <p>See also: <a href=../wallet/#type-base64string>Base64String</a>, <a href=../wallet/#type-certificatefieldnameunder50bytes>CertificateFieldNameUnder50Bytes</a>, <a href=../wallet/#type-hexstring>HexString</a>, <a href=../wallet/#type-outpointstring>OutpointString</a>, <a href=../wallet/#class-protowallet>ProtoWallet</a>, <a href=../wallet/#type-pubkeyhex>PubKeyHex</a>, <a href=../wallet/#type-walletprotocol>WalletProtocol</a>, <a href=../compat/#variable-sign>sign</a>, <a href=../compat/#variable-verify>verify</a></p> <h4 id=constructor_1>Constructor</h4> <p>Constructs a new Certificate.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=kr>constructor</span><span class=p>(</span><span class=kr>type</span><span class=o>:</span><span class=w> </span><span class=nx>Base64String</span><span class=p>,</span><span class=w> </span><span class=nx>serialNumber</span><span class=o>:</span><span class=w> </span><span class=kt>Base64String</span><span class=p>,</span><span class=w> </span><span class=nx>subject</span><span class=o>:</span><span class=w> </span><span class=kt>PubKeyHex</span><span class=p>,</span><span class=w> </span><span class=nx>certifier</span><span class=o>:</span><span class=w> </span><span class=kt>PubKeyHex</span><span class=p>,</span><span class=w> </span><span class=nx>revocationOutpoint</span><span class=o>:</span><span class=w> </span><span class=kt>OutpointString</span><span class=p>,</span><span class=w> </span><span class=nx>fields</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=kt>string</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=nx>signature?</span><span class=o>:</span><span class=w> </span><span class=kt>HexString</span><span class=p>)</span><span class=w> </span>
</code></pre></div> See also: <a href=../wallet/#type-base64string>Base64String</a>, <a href=../wallet/#type-certificatefieldnameunder50bytes>CertificateFieldNameUnder50Bytes</a>, <a href=../wallet/#type-hexstring>HexString</a>, <a href=../wallet/#type-outpointstring>OutpointString</a>, <a href=../wallet/#type-pubkeyhex>PubKeyHex</a></p> <p>Argument Details</p> <ul> <li><strong>type</strong></li> <li>Type identifier for the certificate, base64 encoded string, 32 bytes.</li> <li><strong>serialNumber</strong></li> <li>Unique serial number of the certificate, base64 encoded string, 32 bytes.</li> <li><strong>subject</strong></li> <li>The public key belonging to the certificate's subject, compressed public key hex string.</li> <li><strong>certifier</strong></li> <li>Public key of the certifier who issued the certificate, compressed public key hex string.</li> <li><strong>revocationOutpoint</strong></li> <li>The outpoint used to confirm that the certificate has not been revoked (TXID.OutputIndex), as a string.</li> <li><strong>fields</strong></li> <li>All the fields present in the certificate.</li> <li><strong>signature</strong></li> <li>Certificate signature by the certifier's private key, DER encoded hex string.</li> </ul> <h4 id=property-certifier>Property certifier</h4> <p>Public key of the certifier who issued the certificate, compressed public key hex string.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=nx>certifier</span><span class=o>:</span><span class=w> </span><span class=kt>PubKeyHex</span>
</code></pre></div> See also: <a href=../wallet/#type-pubkeyhex>PubKeyHex</a></p> <h4 id=property-fields>Property fields</h4> <p>All the fields present in the certificate, with field names as keys and encrypted field values as Base64 strings.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=nx>fields</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=nx>Base64String</span><span class=o>&gt;</span>
</code></pre></div> See also: <a href=../wallet/#type-base64string>Base64String</a>, <a href=../wallet/#type-certificatefieldnameunder50bytes>CertificateFieldNameUnder50Bytes</a></p> <h4 id=property-revocationoutpoint>Property revocationOutpoint</h4> <p>The outpoint used to confirm that the certificate has not been revoked (TXID.OutputIndex), as a string.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=nx>revocationOutpoint</span><span class=o>:</span><span class=w> </span><span class=kt>OutpointString</span>
</code></pre></div> See also: <a href=../wallet/#type-outpointstring>OutpointString</a></p> <h4 id=property-serialnumber>Property serialNumber</h4> <p>Unique serial number of the certificate, base64 encoded string, 32 bytes.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=nx>serialNumber</span><span class=o>:</span><span class=w> </span><span class=kt>Base64String</span>
</code></pre></div> See also: <a href=../wallet/#type-base64string>Base64String</a></p> <h4 id=property-signature>Property signature</h4> <p>Certificate signature by the certifier's private key, DER encoded hex string.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=nx>signature?</span><span class=o>:</span><span class=w> </span><span class=kt>HexString</span>
</code></pre></div> See also: <a href=../wallet/#type-hexstring>HexString</a></p> <h4 id=property-subject>Property subject</h4> <p>The public key belonging to the certificate's subject, compressed public key hex string.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=nx>subject</span><span class=o>:</span><span class=w> </span><span class=kt>PubKeyHex</span>
</code></pre></div> See also: <a href=../wallet/#type-pubkeyhex>PubKeyHex</a></p> <h4 id=property-type>Property type</h4> <p>Type identifier for the certificate, base64 encoded string, 32 bytes.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=kr>type</span><span class=o>:</span><span class=w> </span><span class=nx>Base64String</span>
</code></pre></div> See also: <a href=../wallet/#type-base64string>Base64String</a></p> <h4 id=method-frombinary>Method fromBinary</h4> <p>Deserializes a certificate from binary format.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=k>static</span><span class=w> </span><span class=nx>fromBinary</span><span class=p>(</span><span class=nx>bin</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=p>[])</span><span class=o>:</span><span class=w> </span><span class=nx>Certificate</span><span class=w> </span>
</code></pre></div> See also: <a href=./#class-certificate>Certificate</a></p> <p>Returns</p> <ul> <li>The deserialized Certificate object.</li> </ul> <p>Argument Details</p> <ul> <li><strong>bin</strong></li> <li>The binary data representing the certificate.</li> </ul> <h4 id=method-getcertificatefieldencryptiondetails>Method getCertificateFieldEncryptionDetails</h4> <p>Helper function which retrieves the protocol ID and key ID for certificate field encryption.</p> <p>For master certificate creation, no serial number is provided because entropy is required from both the client and the certifier. In this case, the <code>keyID</code> is simply the <code>fieldName</code>.</p> <p>For VerifiableCertificates verifier keyring creation, both the serial number and field name are available, so the <code>keyID</code> is formed by concatenating the <code>serialNumber</code> and <code>fieldName</code>.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a><span class=k>static</span><span class=w> </span><span class=nx>getCertificateFieldEncryptionDetails</span><span class=p>(</span><span class=nx>fieldName</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>serialNumber?</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a><span class=w>    </span><span class=nx>protocolID</span><span class=o>:</span><span class=w> </span><span class=kt>WalletProtocol</span><span class=p>;</span>
<a id=__codelineno-20-3 name=__codelineno-20-3 href=#__codelineno-20-3></a><span class=w>    </span><span class=nx>keyID</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>;</span>
<a id=__codelineno-20-4 name=__codelineno-20-4 href=#__codelineno-20-4></a><span class=p>}</span><span class=w> </span>
</code></pre></div> See also: <a href=../wallet/#type-walletprotocol>WalletProtocol</a></p> <p>Returns</p> <p>An object containing: - <code>protocolID</code> (WalletProtocol): The protocol ID for certificate field encryption. - <code>keyID</code> (string): A unique key identifier. It is the <code>fieldName</code> if <code>serialNumber</code> is undefined, otherwise it is a combination of <code>serialNumber</code> and <code>fieldName</code>.</p> <p>Argument Details</p> <ul> <li><strong>fieldName</strong></li> <li>The name of the field within the certificate to be encrypted.</li> <li><strong>serialNumber</strong></li> <li>(Optional) The serial number of the certificate.</li> </ul> <h4 id=method-sign>Method sign</h4> <p>Signs the certificate using the provided certifier wallet.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=k>async</span><span class=w> </span><span class=nx>sign</span><span class=p>(</span><span class=nx>certifierWallet</span><span class=o>:</span><span class=w> </span><span class=kt>ProtoWallet</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=ow>void</span><span class=o>&gt;</span><span class=w> </span>
</code></pre></div> See also: <a href=../wallet/#class-protowallet>ProtoWallet</a></p> <p>Argument Details</p> <ul> <li><strong>certifierWallet</strong></li> <li>The wallet representing the certifier.</li> </ul> <h4 id=method-tobinary>Method toBinary</h4> <p>Serializes the certificate into binary format, with or without a signature.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a><span class=nx>toBinary</span><span class=p>(</span><span class=nx>includeSignature</span><span class=o>:</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>true</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=p>[]</span><span class=w> </span>
</code></pre></div> <p>Returns</p> <ul> <li>The serialized certificate in binary format.</li> </ul> <p>Argument Details</p> <ul> <li><strong>includeSignature</strong></li> <li>Whether to include the signature in the serialization.</li> </ul> <h4 id=method-verify>Method verify</h4> <p>Verifies the certificate's signature.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=k>async</span><span class=w> </span><span class=nx>verify</span><span class=p>()</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=kt>boolean</span><span class=o>&gt;</span><span class=w> </span>
</code></pre></div> <p>Returns</p> <ul> <li>A promise that resolves to true if the signature is valid.</li> </ul> <p>Links: <a href=#api>API</a>, <a href=#interfaces>Interfaces</a>, <a href=#classes>Classes</a>, <a href=#functions>Functions</a>, <a href=#types>Types</a>, <a href=#enums>Enums</a>, <a href=#variables>Variables</a></p> <hr> <h3 id=class-completedprotowallet>Class: CompletedProtoWallet</h3> <div class=highlight><pre><span></span><code><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a><span class=k>export</span><span class=w> </span><span class=kd>class</span><span class=w> </span><span class=nx>CompletedProtoWallet</span><span class=w> </span><span class=k>extends</span><span class=w> </span><span class=nx>ProtoWallet</span><span class=w> </span><span class=k>implements</span><span class=w> </span><span class=nx>WalletInterface</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-24-2 name=__codelineno-24-2 href=#__codelineno-24-2></a><span class=w>    </span><span class=nx>keyDeriver</span><span class=o>:</span><span class=w> </span><span class=kt>KeyDeriver</span><span class=p>;</span>
<a id=__codelineno-24-3 name=__codelineno-24-3 href=#__codelineno-24-3></a><span class=w>    </span><span class=kr>constructor</span><span class=p>(</span><span class=nx>rootKeyOrKeyDeriver</span><span class=o>:</span><span class=w> </span><span class=kt>PrivateKey</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=s2>&quot;anyone&quot;</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nx>KeyDeriverApi</span><span class=p>)</span><span class=w> </span>
<a id=__codelineno-24-4 name=__codelineno-24-4 href=#__codelineno-24-4></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>isAuthenticated</span><span class=p>()</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>AuthenticatedResult</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-24-5 name=__codelineno-24-5 href=#__codelineno-24-5></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>waitForAuthentication</span><span class=p>()</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>AuthenticatedResult</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-24-6 name=__codelineno-24-6 href=#__codelineno-24-6></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>getNetwork</span><span class=p>()</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>GetNetworkResult</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-24-7 name=__codelineno-24-7 href=#__codelineno-24-7></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>getVersion</span><span class=p>()</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>GetVersionResult</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-24-8 name=__codelineno-24-8 href=#__codelineno-24-8></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>getPublicKey</span><span class=p>(</span><span class=nx>args</span><span class=o>:</span><span class=w> </span><span class=kt>GetPublicKeyArgs</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=p>{</span>
<a id=__codelineno-24-9 name=__codelineno-24-9 href=#__codelineno-24-9></a><span class=w>        </span><span class=nx>publicKey</span><span class=o>:</span><span class=w> </span><span class=kt>PubKeyHex</span><span class=p>;</span>
<a id=__codelineno-24-10 name=__codelineno-24-10 href=#__codelineno-24-10></a><span class=w>    </span><span class=p>}</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-24-11 name=__codelineno-24-11 href=#__codelineno-24-11></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>createAction</span><span class=p>()</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>CreateActionResult</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-24-12 name=__codelineno-24-12 href=#__codelineno-24-12></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>signAction</span><span class=p>()</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>SignActionResult</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-24-13 name=__codelineno-24-13 href=#__codelineno-24-13></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>abortAction</span><span class=p>()</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>AbortActionResult</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-24-14 name=__codelineno-24-14 href=#__codelineno-24-14></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>listActions</span><span class=p>()</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>ListActionsResult</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-24-15 name=__codelineno-24-15 href=#__codelineno-24-15></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>internalizeAction</span><span class=p>()</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>InternalizeActionResult</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-24-16 name=__codelineno-24-16 href=#__codelineno-24-16></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>listOutputs</span><span class=p>()</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>ListOutputsResult</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-24-17 name=__codelineno-24-17 href=#__codelineno-24-17></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>relinquishOutput</span><span class=p>()</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>RelinquishOutputResult</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-24-18 name=__codelineno-24-18 href=#__codelineno-24-18></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>acquireCertificate</span><span class=p>()</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>AcquireCertificateResult</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-24-19 name=__codelineno-24-19 href=#__codelineno-24-19></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>listCertificates</span><span class=p>()</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>ListCertificatesResult</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-24-20 name=__codelineno-24-20 href=#__codelineno-24-20></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>proveCertificate</span><span class=p>()</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>ProveCertificateResult</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-24-21 name=__codelineno-24-21 href=#__codelineno-24-21></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>relinquishCertificate</span><span class=p>()</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>RelinquishCertificateResult</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-24-22 name=__codelineno-24-22 href=#__codelineno-24-22></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>discoverByIdentityKey</span><span class=p>()</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>DiscoverCertificatesResult</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-24-23 name=__codelineno-24-23 href=#__codelineno-24-23></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>discoverByAttributes</span><span class=p>()</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>DiscoverCertificatesResult</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-24-24 name=__codelineno-24-24 href=#__codelineno-24-24></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>getHeight</span><span class=p>()</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>GetHeightResult</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-24-25 name=__codelineno-24-25 href=#__codelineno-24-25></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>getHeaderForHeight</span><span class=p>()</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>GetHeaderResult</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-24-26 name=__codelineno-24-26 href=#__codelineno-24-26></a><span class=p>}</span>
</code></pre></div> <p>See also: <a href=../wallet/#interface-abortactionresult>AbortActionResult</a>, <a href=../wallet/#type-acquirecertificateresult>AcquireCertificateResult</a>, <a href=../wallet/#interface-authenticatedresult>AuthenticatedResult</a>, <a href=../wallet/#interface-createactionresult>CreateActionResult</a>, <a href=../wallet/#interface-discovercertificatesresult>DiscoverCertificatesResult</a>, <a href=../wallet/#interface-getheaderresult>GetHeaderResult</a>, <a href=../wallet/#interface-getheightresult>GetHeightResult</a>, <a href=../wallet/#interface-getnetworkresult>GetNetworkResult</a>, <a href=../wallet/#interface-getpublickeyargs>GetPublicKeyArgs</a>, <a href=../wallet/#interface-getversionresult>GetVersionResult</a>, <a href=../wallet/#interface-internalizeactionresult>InternalizeActionResult</a>, <a href=../wallet/#class-keyderiver>KeyDeriver</a>, <a href=../wallet/#interface-keyderiverapi>KeyDeriverApi</a>, <a href=../wallet/#interface-listactionsresult>ListActionsResult</a>, <a href=../wallet/#interface-listcertificatesresult>ListCertificatesResult</a>, <a href=../wallet/#interface-listoutputsresult>ListOutputsResult</a>, <a href=../primitives/#class-privatekey>PrivateKey</a>, <a href=../wallet/#class-protowallet>ProtoWallet</a>, <a href=../wallet/#interface-provecertificateresult>ProveCertificateResult</a>, <a href=../wallet/#type-pubkeyhex>PubKeyHex</a>, <a href=../wallet/#interface-relinquishcertificateresult>RelinquishCertificateResult</a>, <a href=../wallet/#interface-relinquishoutputresult>RelinquishOutputResult</a>, <a href=../wallet/#interface-signactionresult>SignActionResult</a>, <a href=../wallet/#interface-walletinterface>WalletInterface</a></p> <p>Links: <a href=#api>API</a>, <a href=#interfaces>Interfaces</a>, <a href=#classes>Classes</a>, <a href=#functions>Functions</a>, <a href=#types>Types</a>, <a href=#enums>Enums</a>, <a href=#variables>Variables</a></p> <hr> <h3 id=class-mastercertificate>Class: MasterCertificate</h3> <p>MasterCertificate extends the base Certificate class to manage a master keyring, enabling the creation of verifiable certificates.</p> <p>It allows for the selective disclosure of certificate fields by creating a <code>VerifiableCertificate</code> for a specific verifier. The <code>MasterCertificate</code> can securely decrypt each master key and re-encrypt it for a verifier, creating a customized keyring containing only the keys necessary for the verifier to access designated fields.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a><span class=k>export</span><span class=w> </span><span class=kd>class</span><span class=w> </span><span class=nx>MasterCertificate</span><span class=w> </span><span class=k>extends</span><span class=w> </span><span class=nx>Certificate</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-25-2 name=__codelineno-25-2 href=#__codelineno-25-2></a><span class=w>    </span><span class=kr>declare</span><span class=w> </span><span class=kr>type</span><span class=o>:</span><span class=w> </span><span class=nx>Base64String</span><span class=p>;</span>
<a id=__codelineno-25-3 name=__codelineno-25-3 href=#__codelineno-25-3></a><span class=w>    </span><span class=kr>declare</span><span class=w> </span><span class=nx>serialNumber</span><span class=o>:</span><span class=w> </span><span class=kt>Base64String</span><span class=p>;</span>
<a id=__codelineno-25-4 name=__codelineno-25-4 href=#__codelineno-25-4></a><span class=w>    </span><span class=kr>declare</span><span class=w> </span><span class=nx>subject</span><span class=o>:</span><span class=w> </span><span class=kt>PubKeyHex</span><span class=p>;</span>
<a id=__codelineno-25-5 name=__codelineno-25-5 href=#__codelineno-25-5></a><span class=w>    </span><span class=kr>declare</span><span class=w> </span><span class=nx>certifier</span><span class=o>:</span><span class=w> </span><span class=kt>PubKeyHex</span><span class=p>;</span>
<a id=__codelineno-25-6 name=__codelineno-25-6 href=#__codelineno-25-6></a><span class=w>    </span><span class=kr>declare</span><span class=w> </span><span class=nx>revocationOutpoint</span><span class=o>:</span><span class=w> </span><span class=kt>OutpointString</span><span class=p>;</span>
<a id=__codelineno-25-7 name=__codelineno-25-7 href=#__codelineno-25-7></a><span class=w>    </span><span class=kr>declare</span><span class=w> </span><span class=nx>fields</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=nx>Base64String</span><span class=o>&gt;</span><span class=p>;</span>
<a id=__codelineno-25-8 name=__codelineno-25-8 href=#__codelineno-25-8></a><span class=w>    </span><span class=kr>declare</span><span class=w> </span><span class=nx>signature?</span><span class=o>:</span><span class=w> </span><span class=kt>HexString</span><span class=p>;</span>
<a id=__codelineno-25-9 name=__codelineno-25-9 href=#__codelineno-25-9></a><span class=w>    </span><span class=nx>masterKeyring</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=nx>Base64String</span><span class=o>&gt;</span><span class=p>;</span>
<a id=__codelineno-25-10 name=__codelineno-25-10 href=#__codelineno-25-10></a><span class=w>    </span><span class=kr>constructor</span><span class=p>(</span><span class=kr>type</span><span class=o>:</span><span class=w> </span><span class=nx>Base64String</span><span class=p>,</span><span class=w> </span><span class=nx>serialNumber</span><span class=o>:</span><span class=w> </span><span class=kt>Base64String</span><span class=p>,</span><span class=w> </span><span class=nx>subject</span><span class=o>:</span><span class=w> </span><span class=kt>PubKeyHex</span><span class=p>,</span><span class=w> </span><span class=nx>certifier</span><span class=o>:</span><span class=w> </span><span class=kt>PubKeyHex</span><span class=p>,</span><span class=w> </span><span class=nx>revocationOutpoint</span><span class=o>:</span><span class=w> </span><span class=kt>OutpointString</span><span class=p>,</span><span class=w> </span><span class=nx>fields</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=nx>Base64String</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=nx>masterKeyring</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=nx>Base64String</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=nx>signature?</span><span class=o>:</span><span class=w> </span><span class=kt>HexString</span><span class=p>)</span><span class=w> </span>
<a id=__codelineno-25-11 name=__codelineno-25-11 href=#__codelineno-25-11></a><span class=w>    </span><span class=k>static</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=nx>createCertificateFields</span><span class=p>(</span><span class=nx>creatorWallet</span><span class=o>:</span><span class=w> </span><span class=kt>ProtoWallet</span><span class=p>,</span><span class=w> </span><span class=nx>certifierOrSubject</span><span class=o>:</span><span class=w> </span><span class=kt>WalletCounterparty</span><span class=p>,</span><span class=w> </span><span class=nx>fields</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=kt>string</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=nx>privileged?</span><span class=o>:</span><span class=w> </span><span class=kt>boolean</span><span class=p>,</span><span class=w> </span><span class=nx>privilegedReason?</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>CreateCertificateFieldsResult</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-25-12 name=__codelineno-25-12 href=#__codelineno-25-12></a><span class=w>    </span><span class=k>static</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=nx>createKeyringForVerifier</span><span class=p>(</span><span class=nx>subjectWallet</span><span class=o>:</span><span class=w> </span><span class=kt>ProtoWallet</span><span class=p>,</span><span class=w> </span><span class=nx>certifier</span><span class=o>:</span><span class=w> </span><span class=kt>WalletCounterparty</span><span class=p>,</span><span class=w> </span><span class=nx>verifier</span><span class=o>:</span><span class=w> </span><span class=kt>WalletCounterparty</span><span class=p>,</span><span class=w> </span><span class=nx>fields</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=nx>Base64String</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=nx>fieldsToReveal</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>[],</span><span class=w> </span><span class=nx>masterKeyring</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=nx>Base64String</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=nx>serialNumber</span><span class=o>:</span><span class=w> </span><span class=kt>Base64String</span><span class=p>,</span><span class=w> </span><span class=nx>privileged?</span><span class=o>:</span><span class=w> </span><span class=kt>boolean</span><span class=p>,</span><span class=w> </span><span class=nx>privilegedReason?</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=kt>string</span><span class=o>&gt;&gt;</span><span class=w> </span>
<a id=__codelineno-25-13 name=__codelineno-25-13 href=#__codelineno-25-13></a><span class=w>    </span><span class=k>static</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=nx>issueCertificateForSubject</span><span class=p>(</span><span class=nx>certifierWallet</span><span class=o>:</span><span class=w> </span><span class=kt>ProtoWallet</span><span class=p>,</span><span class=w> </span><span class=nx>subject</span><span class=o>:</span><span class=w> </span><span class=kt>WalletCounterparty</span><span class=p>,</span><span class=w> </span><span class=nx>fields</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=kt>string</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=nx>certificateType</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>getRevocationOutpoint</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=p>(</span><span class=nx>_serial</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=kt>string</span><span class=o>&gt;</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-25-14 name=__codelineno-25-14 href=#__codelineno-25-14></a><span class=w>        </span><span class=ow>void</span><span class=w> </span><span class=nx>_serial</span><span class=p>;</span>
<a id=__codelineno-25-15 name=__codelineno-25-15 href=#__codelineno-25-15></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s2>&quot;Certificate revocation not tracked.&quot;</span><span class=p>;</span>
<a id=__codelineno-25-16 name=__codelineno-25-16 href=#__codelineno-25-16></a><span class=w>    </span><span class=p>},</span><span class=w> </span><span class=nx>serialNumber?</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>MasterCertificate</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-25-17 name=__codelineno-25-17 href=#__codelineno-25-17></a><span class=w>    </span><span class=k>static</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=nx>decryptFields</span><span class=p>(</span><span class=nx>subjectOrCertifierWallet</span><span class=o>:</span><span class=w> </span><span class=kt>ProtoWallet</span><span class=p>,</span><span class=w> </span><span class=nx>masterKeyring</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=nx>Base64String</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=nx>fields</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=nx>Base64String</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=nx>counterparty</span><span class=o>:</span><span class=w> </span><span class=kt>WalletCounterparty</span><span class=p>,</span><span class=w> </span><span class=nx>privileged?</span><span class=o>:</span><span class=w> </span><span class=kt>boolean</span><span class=p>,</span><span class=w> </span><span class=nx>privilegedReason?</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=kt>string</span><span class=o>&gt;&gt;</span><span class=w> </span>
<a id=__codelineno-25-18 name=__codelineno-25-18 href=#__codelineno-25-18></a><span class=w>    </span><span class=k>static</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=nx>decryptField</span><span class=p>(</span><span class=nx>subjectOrCertifierWallet</span><span class=o>:</span><span class=w> </span><span class=kt>ProtoWallet</span><span class=p>,</span><span class=w> </span><span class=nx>masterKeyring</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=nx>Base64String</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=nx>fieldName</span><span class=o>:</span><span class=w> </span><span class=kt>Base64String</span><span class=p>,</span><span class=w> </span><span class=nx>fieldValue</span><span class=o>:</span><span class=w> </span><span class=kt>Base64String</span><span class=p>,</span><span class=w> </span><span class=nx>counterparty</span><span class=o>:</span><span class=w> </span><span class=kt>WalletCounterparty</span><span class=p>,</span><span class=w> </span><span class=nx>privileged?</span><span class=o>:</span><span class=w> </span><span class=kt>boolean</span><span class=p>,</span><span class=w> </span><span class=nx>privilegedReason?</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=p>{</span>
<a id=__codelineno-25-19 name=__codelineno-25-19 href=#__codelineno-25-19></a><span class=w>        </span><span class=nx>fieldRevelationKey</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=p>[];</span>
<a id=__codelineno-25-20 name=__codelineno-25-20 href=#__codelineno-25-20></a><span class=w>        </span><span class=nx>decryptedFieldValue</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>;</span>
<a id=__codelineno-25-21 name=__codelineno-25-21 href=#__codelineno-25-21></a><span class=w>    </span><span class=p>}</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-25-22 name=__codelineno-25-22 href=#__codelineno-25-22></a><span class=p>}</span>
</code></pre></div> <p>See also: <a href=../wallet/#type-base64string>Base64String</a>, <a href=./#class-certificate>Certificate</a>, <a href=../wallet/#type-certificatefieldnameunder50bytes>CertificateFieldNameUnder50Bytes</a>, <a href=../wallet/#type-hexstring>HexString</a>, <a href=../wallet/#type-outpointstring>OutpointString</a>, <a href=../wallet/#class-protowallet>ProtoWallet</a>, <a href=../wallet/#type-pubkeyhex>PubKeyHex</a>, <a href=../wallet/#type-walletcounterparty>WalletCounterparty</a></p> <h4 id=method-createcertificatefields>Method createCertificateFields</h4> <p>Encrypts certificate fields for a subject and generates a master keyring. This method returns a master keyring tied to a specific certifier or subject who will validate and sign off on the fields, along with the encrypted certificate fields.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a><span class=k>static</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=nx>createCertificateFields</span><span class=p>(</span><span class=nx>creatorWallet</span><span class=o>:</span><span class=w> </span><span class=kt>ProtoWallet</span><span class=p>,</span><span class=w> </span><span class=nx>certifierOrSubject</span><span class=o>:</span><span class=w> </span><span class=kt>WalletCounterparty</span><span class=p>,</span><span class=w> </span><span class=nx>fields</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=kt>string</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=nx>privileged?</span><span class=o>:</span><span class=w> </span><span class=kt>boolean</span><span class=p>,</span><span class=w> </span><span class=nx>privilegedReason?</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>CreateCertificateFieldsResult</span><span class=o>&gt;</span><span class=w> </span>
</code></pre></div> See also: <a href=../wallet/#type-certificatefieldnameunder50bytes>CertificateFieldNameUnder50Bytes</a>, <a href=../wallet/#class-protowallet>ProtoWallet</a>, <a href=../wallet/#type-walletcounterparty>WalletCounterparty</a></p> <p>Returns</p> <p>A promise resolving to an object containing: - <code>certificateFields</code> {Record<certificatefieldnameunder50bytes, base64string>}: The encrypted certificate fields. - <code>masterKeyring</code> {Record<certificatefieldnameunder50bytes, base64string>}: The master keyring containing encrypted revelation keys for each field.</p> <p>Argument Details</p> <ul> <li><strong>creatorWallet</strong></li> <li>The wallet of the creator responsible for encrypting the fields.</li> <li><strong>certifierOrSubject</strong></li> <li>The certifier or subject who will validate the certificate fields.</li> <li><strong>fields</strong></li> <li>A record of certificate field names (under 50 bytes) mapped to their values.</li> <li><strong>privileged</strong></li> <li>Whether this is a privileged request.</li> <li><strong>privilegedReason</strong></li> <li>Reason provided for privileged access, required if this is a privileged operation. *</li> </ul> <h4 id=method-createkeyringforverifier>Method createKeyringForVerifier</h4> <p>Creates a keyring for a verifier, enabling them to decrypt specific certificate fields. This method decrypts the master field keys for the specified fields and re-encrypts them for the verifier's identity key. The result is a keyring containing the keys necessary for the verifier to access the designated fields.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a><span class=k>static</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=nx>createKeyringForVerifier</span><span class=p>(</span><span class=nx>subjectWallet</span><span class=o>:</span><span class=w> </span><span class=kt>ProtoWallet</span><span class=p>,</span><span class=w> </span><span class=nx>certifier</span><span class=o>:</span><span class=w> </span><span class=kt>WalletCounterparty</span><span class=p>,</span><span class=w> </span><span class=nx>verifier</span><span class=o>:</span><span class=w> </span><span class=kt>WalletCounterparty</span><span class=p>,</span><span class=w> </span><span class=nx>fields</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=nx>Base64String</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=nx>fieldsToReveal</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>[],</span><span class=w> </span><span class=nx>masterKeyring</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=nx>Base64String</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=nx>serialNumber</span><span class=o>:</span><span class=w> </span><span class=kt>Base64String</span><span class=p>,</span><span class=w> </span><span class=nx>privileged?</span><span class=o>:</span><span class=w> </span><span class=kt>boolean</span><span class=p>,</span><span class=w> </span><span class=nx>privilegedReason?</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=kt>string</span><span class=o>&gt;&gt;</span><span class=w> </span>
</code></pre></div> See also: <a href=../wallet/#type-base64string>Base64String</a>, <a href=../wallet/#type-certificatefieldnameunder50bytes>CertificateFieldNameUnder50Bytes</a>, <a href=../wallet/#class-protowallet>ProtoWallet</a>, <a href=../wallet/#type-walletcounterparty>WalletCounterparty</a></p> <p>Returns</p> <ul> <li>A keyring mapping field names to encrypted field revelation keys, allowing the verifier to decrypt specified fields.</li> </ul> <p>Argument Details</p> <ul> <li><strong>subjectWallet</strong></li> <li>The wallet instance of the subject, used to decrypt and re-encrypt field keys.</li> <li><strong>verifier</strong></li> <li>The verifier who will receive access to the selectively revealed fields. Can be an identity key as hex, 'anyone', or 'self'.</li> <li><strong>fieldsToReveal</strong></li> <li>An array of field names to be revealed to the verifier. Must be a subset of the certificate's fields.</li> <li><strong>originator</strong></li> <li>Optional originator identifier, used if additional context is needed for decryption and encryption operations.</li> <li><strong>privileged</strong></li> <li>Whether this is a privileged request.</li> <li><strong>privilegedReason</strong></li> <li>Reason provided for privileged access, required if this is a privileged operation. *</li> </ul> <p>Throws</p> <p>Throws an error if: - fieldsToReveal is not an array of strings. - A field in <code>fieldsToReveal</code> does not exist in the certificate. - The decrypted master field key fails to decrypt the corresponding field (indicating an invalid key).</p> <h4 id=method-decryptfields>Method decryptFields</h4> <p>Decrypts all fields in the MasterCertificate using the subject's or certifier's wallet.</p> <p>This method allows the subject or certifier to decrypt the <code>masterKeyring</code> and retrieve the encryption keys for each field, which are then used to decrypt the corresponding field values. The counterparty used for decryption depends on how the certificate fields were created: - If the certificate is self-signed, the counterparty should be set to 'self'. - Otherwise, the counterparty should always be the other party involved in the certificate issuance process (the subject or certifier).</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-28-1 name=__codelineno-28-1 href=#__codelineno-28-1></a><span class=k>static</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=nx>decryptFields</span><span class=p>(</span><span class=nx>subjectOrCertifierWallet</span><span class=o>:</span><span class=w> </span><span class=kt>ProtoWallet</span><span class=p>,</span><span class=w> </span><span class=nx>masterKeyring</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=nx>Base64String</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=nx>fields</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=nx>Base64String</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=nx>counterparty</span><span class=o>:</span><span class=w> </span><span class=kt>WalletCounterparty</span><span class=p>,</span><span class=w> </span><span class=nx>privileged?</span><span class=o>:</span><span class=w> </span><span class=kt>boolean</span><span class=p>,</span><span class=w> </span><span class=nx>privilegedReason?</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=kt>string</span><span class=o>&gt;&gt;</span><span class=w> </span>
</code></pre></div> See also: <a href=../wallet/#type-base64string>Base64String</a>, <a href=../wallet/#type-certificatefieldnameunder50bytes>CertificateFieldNameUnder50Bytes</a>, <a href=../wallet/#class-protowallet>ProtoWallet</a>, <a href=../wallet/#type-walletcounterparty>WalletCounterparty</a></p> <p>Returns</p> <p>A promise resolving to a record of field names and their decrypted values in plaintext.</p> <p>Argument Details</p> <ul> <li><strong>subjectOrCertifierWallet</strong></li> <li>The wallet of the subject or certifier, used to decrypt the master keyring and field values.</li> <li><strong>masterKeyring</strong></li> <li>A record containing encrypted keys for each field.</li> <li><strong>fields</strong></li> <li>A record of encrypted field names and their values.</li> <li><strong>counterparty</strong></li> <li>The counterparty responsible for creating or signing the certificate. For self-signed certificates, use 'self'.</li> <li><strong>privileged</strong></li> <li>Whether this is a privileged request.</li> <li><strong>privilegedReason</strong></li> <li>Reason provided for privileged access, required if this is a privileged operation.</li> </ul> <p>Throws</p> <p>Throws an error if the <code>masterKeyring</code> is invalid or if decryption fails for any field.</p> <h4 id=method-issuecertificateforsubject>Method issueCertificateForSubject</h4> <p>Issues a new MasterCertificate for a specified subject.</p> <p>This method generates a certificate containing encrypted fields and a keyring for the subject to decrypt all fields. Each field is encrypted with a randomly generated symmetric key, which is then encrypted for the subject. The certificate can also includes a revocation outpoint to manage potential revocation.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-29-1 name=__codelineno-29-1 href=#__codelineno-29-1></a><span class=k>static</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=nx>issueCertificateForSubject</span><span class=p>(</span><span class=nx>certifierWallet</span><span class=o>:</span><span class=w> </span><span class=kt>ProtoWallet</span><span class=p>,</span><span class=w> </span><span class=nx>subject</span><span class=o>:</span><span class=w> </span><span class=kt>WalletCounterparty</span><span class=p>,</span><span class=w> </span><span class=nx>fields</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=kt>string</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=nx>certificateType</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>getRevocationOutpoint</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=p>(</span><span class=nx>_serial</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=kt>string</span><span class=o>&gt;</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-29-2 name=__codelineno-29-2 href=#__codelineno-29-2></a><span class=w>    </span><span class=ow>void</span><span class=w> </span><span class=nx>_serial</span><span class=p>;</span>
<a id=__codelineno-29-3 name=__codelineno-29-3 href=#__codelineno-29-3></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=s2>&quot;Certificate revocation not tracked.&quot;</span><span class=p>;</span>
<a id=__codelineno-29-4 name=__codelineno-29-4 href=#__codelineno-29-4></a><span class=p>},</span><span class=w> </span><span class=nx>serialNumber?</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>MasterCertificate</span><span class=o>&gt;</span><span class=w> </span>
</code></pre></div> See also: <a href=../wallet/#type-certificatefieldnameunder50bytes>CertificateFieldNameUnder50Bytes</a>, <a href=./#class-mastercertificate>MasterCertificate</a>, <a href=../wallet/#class-protowallet>ProtoWallet</a>, <a href=../wallet/#type-walletcounterparty>WalletCounterparty</a></p> <p>Returns</p> <ul> <li>A signed MasterCertificate instance containing the encrypted fields and subject specific keyring.</li> </ul> <p>Argument Details</p> <ul> <li><strong>certifierWallet</strong></li> <li>The wallet of the certifier, used to sign the certificate and encrypt field keys.</li> <li><strong>subject</strong></li> <li>The subject for whom the certificate is issued.</li> <li><strong>fields</strong></li> <li>Unencrypted certificate fields to include, with their names and values.</li> <li><strong>certificateType</strong></li> <li>The type of certificate being issued.</li> <li><strong>getRevocationOutpoint</strong></li> <li>- Optional function to obtain a revocation outpoint for the certificate. Defaults to a placeholder.</li> <li><strong>updateProgress</strong></li> <li>Optional callback for reporting progress updates during the operation. Defaults to a no-op.</li> </ul> <p>Throws</p> <p>Throws an error if any operation (e.g., encryption, signing) fails during certificate issuance.</p> <p>Links: <a href=#api>API</a>, <a href=#interfaces>Interfaces</a>, <a href=#classes>Classes</a>, <a href=#functions>Functions</a>, <a href=#types>Types</a>, <a href=#enums>Enums</a>, <a href=#variables>Variables</a></p> <hr> <h3 id=class-peer>Class: Peer</h3> <p>Represents a peer capable of performing mutual authentication. Manages sessions, handles authentication handshakes, certificate requests and responses, and sending and receiving general messages over a transport layer.</p> <p>This version supports multiple concurrent sessions per peer identityKey.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-30-1 name=__codelineno-30-1 href=#__codelineno-30-1></a><span class=k>export</span><span class=w> </span><span class=kd>class</span><span class=w> </span><span class=nx>Peer</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-30-2 name=__codelineno-30-2 href=#__codelineno-30-2></a><span class=w>    </span><span class=k>public</span><span class=w> </span><span class=nx>sessionManager</span><span class=o>:</span><span class=w> </span><span class=kt>SessionManager</span><span class=p>;</span>
<a id=__codelineno-30-3 name=__codelineno-30-3 href=#__codelineno-30-3></a><span class=w>    </span><span class=nx>certificatesToRequest</span><span class=o>:</span><span class=w> </span><span class=kt>RequestedCertificateSet</span><span class=p>;</span>
<a id=__codelineno-30-4 name=__codelineno-30-4 href=#__codelineno-30-4></a><span class=w>    </span><span class=kr>constructor</span><span class=p>(</span><span class=nx>wallet</span><span class=o>:</span><span class=w> </span><span class=kt>WalletInterface</span><span class=p>,</span><span class=w> </span><span class=nx>transport</span><span class=o>:</span><span class=w> </span><span class=kt>Transport</span><span class=p>,</span><span class=w> </span><span class=nx>certificatesToRequest?</span><span class=o>:</span><span class=w> </span><span class=kt>RequestedCertificateSet</span><span class=p>,</span><span class=w> </span><span class=nx>sessionManager?</span><span class=o>:</span><span class=w> </span><span class=kt>SessionManager</span><span class=p>,</span><span class=w> </span><span class=nx>autoPersistLastSession?</span><span class=o>:</span><span class=w> </span><span class=kt>boolean</span><span class=p>)</span><span class=w> </span>
<a id=__codelineno-30-5 name=__codelineno-30-5 href=#__codelineno-30-5></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>toPeer</span><span class=p>(</span><span class=nx>message</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=p>[],</span><span class=w> </span><span class=nx>identityKey?</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>maxWaitTime?</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=ow>void</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-30-6 name=__codelineno-30-6 href=#__codelineno-30-6></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>requestCertificates</span><span class=p>(</span><span class=nx>certificatesToRequest</span><span class=o>:</span><span class=w> </span><span class=kt>RequestedCertificateSet</span><span class=p>,</span><span class=w> </span><span class=nx>identityKey?</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>maxWaitTime</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>10000</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=ow>void</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-30-7 name=__codelineno-30-7 href=#__codelineno-30-7></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>getAuthenticatedSession</span><span class=p>(</span><span class=nx>identityKey?</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>maxWaitTime?</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>PeerSession</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-30-8 name=__codelineno-30-8 href=#__codelineno-30-8></a><span class=w>    </span><span class=nx>listenForGeneralMessages</span><span class=p>(</span><span class=nx>callback</span><span class=o>:</span><span class=w> </span><span class=p>(</span><span class=nx>senderPublicKey</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>payload</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=p>[])</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=ow>void</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=w> </span>
<a id=__codelineno-30-9 name=__codelineno-30-9 href=#__codelineno-30-9></a><span class=w>    </span><span class=nx>stopListeningForGeneralMessages</span><span class=p>(</span><span class=nx>callbackID</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=ow>void</span><span class=w> </span>
<a id=__codelineno-30-10 name=__codelineno-30-10 href=#__codelineno-30-10></a><span class=w>    </span><span class=nx>listenForCertificatesReceived</span><span class=p>(</span><span class=nx>callback</span><span class=o>:</span><span class=w> </span><span class=p>(</span><span class=nx>senderPublicKey</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>certs</span><span class=o>:</span><span class=w> </span><span class=kt>VerifiableCertificate</span><span class=p>[])</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=ow>void</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=w> </span>
<a id=__codelineno-30-11 name=__codelineno-30-11 href=#__codelineno-30-11></a><span class=w>    </span><span class=nx>stopListeningForCertificatesReceived</span><span class=p>(</span><span class=nx>callbackID</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=ow>void</span><span class=w> </span>
<a id=__codelineno-30-12 name=__codelineno-30-12 href=#__codelineno-30-12></a><span class=w>    </span><span class=nx>listenForCertificatesRequested</span><span class=p>(</span><span class=nx>callback</span><span class=o>:</span><span class=w> </span><span class=p>(</span><span class=nx>senderPublicKey</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>requestedCertificates</span><span class=o>:</span><span class=w> </span><span class=kt>RequestedCertificateSet</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=ow>void</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=w> </span>
<a id=__codelineno-30-13 name=__codelineno-30-13 href=#__codelineno-30-13></a><span class=w>    </span><span class=nx>stopListeningForCertificatesRequested</span><span class=p>(</span><span class=nx>callbackID</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=ow>void</span><span class=w> </span>
<a id=__codelineno-30-14 name=__codelineno-30-14 href=#__codelineno-30-14></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>sendCertificateResponse</span><span class=p>(</span><span class=nx>verifierIdentityKey</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>certificates</span><span class=o>:</span><span class=w> </span><span class=kt>VerifiableCertificate</span><span class=p>[])</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=ow>void</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-30-15 name=__codelineno-30-15 href=#__codelineno-30-15></a><span class=p>}</span>
</code></pre></div> <p>See also: <a href=./#interface-peersession>PeerSession</a>, <a href=./#interface-requestedcertificateset>RequestedCertificateSet</a>, <a href=./#class-sessionmanager>SessionManager</a>, <a href=./#interface-transport>Transport</a>, <a href=./#class-verifiablecertificate>VerifiableCertificate</a>, <a href=../wallet/#interface-walletinterface>WalletInterface</a></p> <h4 id=constructor_2>Constructor</h4> <p>Creates a new Peer instance</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-31-1 name=__codelineno-31-1 href=#__codelineno-31-1></a><span class=kr>constructor</span><span class=p>(</span><span class=nx>wallet</span><span class=o>:</span><span class=w> </span><span class=kt>WalletInterface</span><span class=p>,</span><span class=w> </span><span class=nx>transport</span><span class=o>:</span><span class=w> </span><span class=kt>Transport</span><span class=p>,</span><span class=w> </span><span class=nx>certificatesToRequest?</span><span class=o>:</span><span class=w> </span><span class=kt>RequestedCertificateSet</span><span class=p>,</span><span class=w> </span><span class=nx>sessionManager?</span><span class=o>:</span><span class=w> </span><span class=kt>SessionManager</span><span class=p>,</span><span class=w> </span><span class=nx>autoPersistLastSession?</span><span class=o>:</span><span class=w> </span><span class=kt>boolean</span><span class=p>)</span><span class=w> </span>
</code></pre></div> See also: <a href=./#interface-requestedcertificateset>RequestedCertificateSet</a>, <a href=./#class-sessionmanager>SessionManager</a>, <a href=./#interface-transport>Transport</a>, <a href=../wallet/#interface-walletinterface>WalletInterface</a></p> <p>Argument Details</p> <ul> <li><strong>wallet</strong></li> <li>The wallet instance used for cryptographic operations.</li> <li><strong>transport</strong></li> <li>The transport mechanism used for sending and receiving messages.</li> <li><strong>certificatesToRequest</strong></li> <li>Optional set of certificates to request from a peer during the initial handshake.</li> <li><strong>sessionManager</strong></li> <li>Optional SessionManager to be used for managing peer sessions.</li> <li><strong>autoPersistLastSession</strong></li> <li>Whether to auto-persist the session with the last-interacted-with peer. Defaults to true.</li> </ul> <h4 id=method-getauthenticatedsession>Method getAuthenticatedSession</h4> <p>Retrieves an authenticated session for a given peer identity. If no session exists or the session is not authenticated, initiates a handshake to create or authenticate the session.</p> <ul> <li>If <code>identityKey</code> is provided, we look up any existing session for that identity key.</li> <li>If none is found or not authenticated, we do a new handshake.</li> <li>If <code>identityKey</code> is not provided, but we have a <code>lastInteractedWithPeer</code>, we try that key.</li> </ul> <p><div class=highlight><pre><span></span><code><a id=__codelineno-32-1 name=__codelineno-32-1 href=#__codelineno-32-1></a><span class=k>async</span><span class=w> </span><span class=nx>getAuthenticatedSession</span><span class=p>(</span><span class=nx>identityKey?</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>maxWaitTime?</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>PeerSession</span><span class=o>&gt;</span><span class=w> </span>
</code></pre></div> See also: <a href=./#interface-peersession>PeerSession</a></p> <p>Returns</p> <ul> <li>A promise that resolves with an authenticated <code>PeerSession</code>.</li> </ul> <p>Argument Details</p> <ul> <li><strong>identityKey</strong></li> <li>The identity public key of the peer.</li> <li><strong>maxWaitTime</strong></li> <li>The maximum time in milliseconds to wait for the handshake.</li> </ul> <h4 id=method-listenforcertificatesreceived>Method listenForCertificatesReceived</h4> <p>Registers a callback to listen for certificates received from peers.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-33-1 name=__codelineno-33-1 href=#__codelineno-33-1></a><span class=nx>listenForCertificatesReceived</span><span class=p>(</span><span class=nx>callback</span><span class=o>:</span><span class=w> </span><span class=p>(</span><span class=nx>senderPublicKey</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>certs</span><span class=o>:</span><span class=w> </span><span class=kt>VerifiableCertificate</span><span class=p>[])</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=ow>void</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=w> </span>
</code></pre></div> See also: <a href=./#class-verifiablecertificate>VerifiableCertificate</a></p> <p>Returns</p> <p>The ID of the callback listener.</p> <p>Argument Details</p> <ul> <li><strong>callback</strong></li> <li>The function to call when certificates are received.</li> </ul> <h4 id=method-listenforcertificatesrequested>Method listenForCertificatesRequested</h4> <p>Registers a callback to listen for certificates requested from peers.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-34-1 name=__codelineno-34-1 href=#__codelineno-34-1></a><span class=nx>listenForCertificatesRequested</span><span class=p>(</span><span class=nx>callback</span><span class=o>:</span><span class=w> </span><span class=p>(</span><span class=nx>senderPublicKey</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>requestedCertificates</span><span class=o>:</span><span class=w> </span><span class=kt>RequestedCertificateSet</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=ow>void</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=w> </span>
</code></pre></div> See also: <a href=./#interface-requestedcertificateset>RequestedCertificateSet</a></p> <p>Returns</p> <p>The ID of the callback listener.</p> <p>Argument Details</p> <ul> <li><strong>callback</strong></li> <li>The function to call when a certificate request is received</li> </ul> <h4 id=method-listenforgeneralmessages>Method listenForGeneralMessages</h4> <p>Registers a callback to listen for general messages from peers.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-35-1 name=__codelineno-35-1 href=#__codelineno-35-1></a><span class=nx>listenForGeneralMessages</span><span class=p>(</span><span class=nx>callback</span><span class=o>:</span><span class=w> </span><span class=p>(</span><span class=nx>senderPublicKey</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>payload</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=p>[])</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=ow>void</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=w> </span>
</code></pre></div> <p>Returns</p> <p>The ID of the callback listener.</p> <p>Argument Details</p> <ul> <li><strong>callback</strong></li> <li>The function to call when a general message is received.</li> </ul> <h4 id=method-requestcertificates>Method requestCertificates</h4> <p>Sends a request for certificates to a peer. This method allows a peer to dynamically request specific certificates after an initial handshake or message has been exchanged.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-36-1 name=__codelineno-36-1 href=#__codelineno-36-1></a><span class=k>async</span><span class=w> </span><span class=nx>requestCertificates</span><span class=p>(</span><span class=nx>certificatesToRequest</span><span class=o>:</span><span class=w> </span><span class=kt>RequestedCertificateSet</span><span class=p>,</span><span class=w> </span><span class=nx>identityKey?</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>maxWaitTime</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>10000</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=ow>void</span><span class=o>&gt;</span><span class=w> </span>
</code></pre></div> See also: <a href=./#interface-requestedcertificateset>RequestedCertificateSet</a></p> <p>Returns</p> <p>Resolves if the certificate request message is successfully sent.</p> <p>Argument Details</p> <ul> <li><strong>certificatesToRequest</strong></li> <li>Specifies the certifiers and types of certificates required from the peer.</li> <li><strong>identityKey</strong></li> <li>The identity public key of the peer. If not provided, the current or last session identity is used.</li> <li><strong>maxWaitTime</strong></li> <li>Maximum time in milliseconds to wait for the peer session to be authenticated.</li> </ul> <p>Throws</p> <p>Will throw an error if the peer session is not authenticated or if sending the request fails.</p> <h4 id=method-sendcertificateresponse>Method sendCertificateResponse</h4> <p>Sends a certificate response message containing the specified certificates to a peer.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-37-1 name=__codelineno-37-1 href=#__codelineno-37-1></a><span class=k>async</span><span class=w> </span><span class=nx>sendCertificateResponse</span><span class=p>(</span><span class=nx>verifierIdentityKey</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>certificates</span><span class=o>:</span><span class=w> </span><span class=kt>VerifiableCertificate</span><span class=p>[])</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=ow>void</span><span class=o>&gt;</span><span class=w> </span>
</code></pre></div> See also: <a href=./#class-verifiablecertificate>VerifiableCertificate</a></p> <p>Argument Details</p> <ul> <li><strong>verifierIdentityKey</strong></li> <li>The identity key of the peer requesting the certificates.</li> <li><strong>certificates</strong></li> <li>The list of certificates to include in the response.</li> </ul> <p>Throws</p> <p>Will throw an error if the transport fails to send the message.</p> <h4 id=method-stoplisteningforcertificatesreceived>Method stopListeningForCertificatesReceived</h4> <p>Cancels and unsubscribes a certificatesReceived listener.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-38-1 name=__codelineno-38-1 href=#__codelineno-38-1></a><span class=nx>stopListeningForCertificatesReceived</span><span class=p>(</span><span class=nx>callbackID</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=ow>void</span><span class=w> </span>
</code></pre></div> <p>Argument Details</p> <ul> <li><strong>callbackID</strong></li> <li>The ID of the certificates received callback to cancel.</li> </ul> <h4 id=method-stoplisteningforcertificatesrequested>Method stopListeningForCertificatesRequested</h4> <p>Cancels and unsubscribes a certificatesRequested listener.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-39-1 name=__codelineno-39-1 href=#__codelineno-39-1></a><span class=nx>stopListeningForCertificatesRequested</span><span class=p>(</span><span class=nx>callbackID</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=ow>void</span><span class=w> </span>
</code></pre></div> <p>Argument Details</p> <ul> <li><strong>callbackID</strong></li> <li>The ID of the requested certificates callback to cancel.</li> </ul> <h4 id=method-stoplisteningforgeneralmessages>Method stopListeningForGeneralMessages</h4> <p>Removes a general message listener.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-40-1 name=__codelineno-40-1 href=#__codelineno-40-1></a><span class=nx>stopListeningForGeneralMessages</span><span class=p>(</span><span class=nx>callbackID</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=ow>void</span><span class=w> </span>
</code></pre></div> <p>Argument Details</p> <ul> <li><strong>callbackID</strong></li> <li>The ID of the callback to remove.</li> </ul> <h4 id=method-topeer>Method toPeer</h4> <p>Sends a general message to a peer, and initiates a handshake if necessary.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-41-1 name=__codelineno-41-1 href=#__codelineno-41-1></a><span class=k>async</span><span class=w> </span><span class=nx>toPeer</span><span class=p>(</span><span class=nx>message</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=p>[],</span><span class=w> </span><span class=nx>identityKey?</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>maxWaitTime?</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=ow>void</span><span class=o>&gt;</span><span class=w> </span>
</code></pre></div> <p>Argument Details</p> <ul> <li><strong>message</strong></li> <li>The message payload to send.</li> <li><strong>identityKey</strong></li> <li>The identity public key of the peer. If not provided, uses lastInteractedWithPeer (if any).</li> <li><strong>maxWaitTime</strong></li> <li>optional max wait time in ms</li> </ul> <p>Throws</p> <p>Will throw an error if the message fails to send.</p> <p>Links: <a href=#api>API</a>, <a href=#interfaces>Interfaces</a>, <a href=#classes>Classes</a>, <a href=#functions>Functions</a>, <a href=#types>Types</a>, <a href=#enums>Enums</a>, <a href=#variables>Variables</a></p> <hr> <h3 id=class-sessionmanager>Class: SessionManager</h3> <p>Manages sessions for peers, allowing multiple concurrent sessions per identity key. Primary lookup is always by <code>sessionNonce</code>.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-42-1 name=__codelineno-42-1 href=#__codelineno-42-1></a><span class=k>export</span><span class=w> </span><span class=kd>class</span><span class=w> </span><span class=nx>SessionManager</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-42-2 name=__codelineno-42-2 href=#__codelineno-42-2></a><span class=w>    </span><span class=kr>constructor</span><span class=p>()</span><span class=w> </span>
<a id=__codelineno-42-3 name=__codelineno-42-3 href=#__codelineno-42-3></a><span class=w>    </span><span class=nx>addSession</span><span class=p>(</span><span class=nx>session</span><span class=o>:</span><span class=w> </span><span class=kt>PeerSession</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=ow>void</span><span class=w> </span>
<a id=__codelineno-42-4 name=__codelineno-42-4 href=#__codelineno-42-4></a><span class=w>    </span><span class=nx>updateSession</span><span class=p>(</span><span class=nx>session</span><span class=o>:</span><span class=w> </span><span class=kt>PeerSession</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=ow>void</span><span class=w> </span>
<a id=__codelineno-42-5 name=__codelineno-42-5 href=#__codelineno-42-5></a><span class=w>    </span><span class=nx>getSession</span><span class=p>(</span><span class=nx>identifier</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nx>PeerSession</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=kc>undefined</span><span class=w> </span>
<a id=__codelineno-42-6 name=__codelineno-42-6 href=#__codelineno-42-6></a><span class=w>    </span><span class=nx>removeSession</span><span class=p>(</span><span class=nx>session</span><span class=o>:</span><span class=w> </span><span class=kt>PeerSession</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=ow>void</span><span class=w> </span>
<a id=__codelineno-42-7 name=__codelineno-42-7 href=#__codelineno-42-7></a><span class=w>    </span><span class=nx>hasSession</span><span class=p>(</span><span class=nx>identifier</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span>
<a id=__codelineno-42-8 name=__codelineno-42-8 href=#__codelineno-42-8></a><span class=p>}</span>
</code></pre></div> <p>See also: <a href=./#interface-peersession>PeerSession</a></p> <h4 id=method-addsession>Method addSession</h4> <p>Adds a session to the manager, associating it with its sessionNonce, and also with its peerIdentityKey (if any).</p> <p>This does NOT overwrite existing sessions for the same peerIdentityKey, allowing multiple concurrent sessions for the same peer.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-43-1 name=__codelineno-43-1 href=#__codelineno-43-1></a><span class=nx>addSession</span><span class=p>(</span><span class=nx>session</span><span class=o>:</span><span class=w> </span><span class=kt>PeerSession</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=ow>void</span><span class=w> </span>
</code></pre></div> See also: <a href=./#interface-peersession>PeerSession</a></p> <p>Argument Details</p> <ul> <li><strong>session</strong></li> <li>The peer session to add.</li> </ul> <h4 id=method-getsession>Method getSession</h4> <p>Retrieves a session based on a given identifier, which can be: - A sessionNonce, or - A peerIdentityKey.</p> <p>If it is a <code>sessionNonce</code>, returns that exact session. If it is a <code>peerIdentityKey</code>, returns the "best" (e.g. most recently updated, authenticated) session associated with that peer, if any.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-44-1 name=__codelineno-44-1 href=#__codelineno-44-1></a><span class=nx>getSession</span><span class=p>(</span><span class=nx>identifier</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nx>PeerSession</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=kc>undefined</span><span class=w> </span>
</code></pre></div> See also: <a href=./#interface-peersession>PeerSession</a></p> <p>Returns</p> <ul> <li>The matching peer session, or undefined if not found.</li> </ul> <p>Argument Details</p> <ul> <li><strong>identifier</strong></li> <li>The identifier for the session (sessionNonce or peerIdentityKey).</li> </ul> <h4 id=method-hassession>Method hasSession</h4> <p>Checks if a session exists for a given identifier (either sessionNonce or identityKey).</p> <div class=highlight><pre><span></span><code><a id=__codelineno-45-1 name=__codelineno-45-1 href=#__codelineno-45-1></a><span class=nx>hasSession</span><span class=p>(</span><span class=nx>identifier</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span>
</code></pre></div> <p>Returns</p> <ul> <li>True if the session exists, false otherwise.</li> </ul> <p>Argument Details</p> <ul> <li><strong>identifier</strong></li> <li>The identifier to check.</li> </ul> <h4 id=method-removesession>Method removeSession</h4> <p>Removes a session from the manager by clearing all associated identifiers.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-46-1 name=__codelineno-46-1 href=#__codelineno-46-1></a><span class=nx>removeSession</span><span class=p>(</span><span class=nx>session</span><span class=o>:</span><span class=w> </span><span class=kt>PeerSession</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=ow>void</span><span class=w> </span>
</code></pre></div> See also: <a href=./#interface-peersession>PeerSession</a></p> <p>Argument Details</p> <ul> <li><strong>session</strong></li> <li>The peer session to remove.</li> </ul> <h4 id=method-updatesession>Method updateSession</h4> <p>Updates a session in the manager (primarily by re-adding it), ensuring we record the latest data (e.g., isAuthenticated, lastUpdate, etc.).</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-47-1 name=__codelineno-47-1 href=#__codelineno-47-1></a><span class=nx>updateSession</span><span class=p>(</span><span class=nx>session</span><span class=o>:</span><span class=w> </span><span class=kt>PeerSession</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=ow>void</span><span class=w> </span>
</code></pre></div> See also: <a href=./#interface-peersession>PeerSession</a></p> <p>Argument Details</p> <ul> <li><strong>session</strong></li> <li>The peer session to update.</li> </ul> <p>Links: <a href=#api>API</a>, <a href=#interfaces>Interfaces</a>, <a href=#classes>Classes</a>, <a href=#functions>Functions</a>, <a href=#types>Types</a>, <a href=#enums>Enums</a>, <a href=#variables>Variables</a></p> <hr> <h3 id=class-simplifiedfetchtransport>Class: SimplifiedFetchTransport</h3> <p>Implements an HTTP-specific transport for handling Peer mutual authentication messages. This class integrates with fetch to send and receive authenticated messages between peers.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-48-1 name=__codelineno-48-1 href=#__codelineno-48-1></a><span class=k>export</span><span class=w> </span><span class=kd>class</span><span class=w> </span><span class=nx>SimplifiedFetchTransport</span><span class=w> </span><span class=k>implements</span><span class=w> </span><span class=nx>Transport</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-48-2 name=__codelineno-48-2 href=#__codelineno-48-2></a><span class=w>    </span><span class=nx>fetchClient</span><span class=o>:</span><span class=w> </span><span class=kt>typeof</span><span class=w> </span><span class=nx>fetch</span><span class=p>;</span>
<a id=__codelineno-48-3 name=__codelineno-48-3 href=#__codelineno-48-3></a><span class=w>    </span><span class=nx>baseUrl</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>;</span>
<a id=__codelineno-48-4 name=__codelineno-48-4 href=#__codelineno-48-4></a><span class=w>    </span><span class=kr>constructor</span><span class=p>(</span><span class=nx>baseUrl</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>fetchClient</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>defaultFetch</span><span class=p>)</span><span class=w> </span>
<a id=__codelineno-48-5 name=__codelineno-48-5 href=#__codelineno-48-5></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>send</span><span class=p>(</span><span class=nx>message</span><span class=o>:</span><span class=w> </span><span class=kt>AuthMessage</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=ow>void</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-48-6 name=__codelineno-48-6 href=#__codelineno-48-6></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>onData</span><span class=p>(</span><span class=nx>callback</span><span class=o>:</span><span class=w> </span><span class=p>(</span><span class=nx>message</span><span class=o>:</span><span class=w> </span><span class=kt>AuthMessage</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=ow>void</span><span class=o>&gt;</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=ow>void</span><span class=o>&gt;</span><span class=w> </span>
<a id=__codelineno-48-7 name=__codelineno-48-7 href=#__codelineno-48-7></a><span class=w>    </span><span class=nx>deserializeRequestPayload</span><span class=p>(</span><span class=nx>payload</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=p>[])</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-48-8 name=__codelineno-48-8 href=#__codelineno-48-8></a><span class=w>        </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>;</span>
<a id=__codelineno-48-9 name=__codelineno-48-9 href=#__codelineno-48-9></a><span class=w>        </span><span class=nx>urlPostfix</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>;</span>
<a id=__codelineno-48-10 name=__codelineno-48-10 href=#__codelineno-48-10></a><span class=w>        </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=kt>string</span><span class=o>&gt;</span><span class=p>;</span>
<a id=__codelineno-48-11 name=__codelineno-48-11 href=#__codelineno-48-11></a><span class=w>        </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=p>[];</span>
<a id=__codelineno-48-12 name=__codelineno-48-12 href=#__codelineno-48-12></a><span class=w>        </span><span class=nx>requestId</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>;</span>
<a id=__codelineno-48-13 name=__codelineno-48-13 href=#__codelineno-48-13></a><span class=w>    </span><span class=p>}</span><span class=w> </span>
<a id=__codelineno-48-14 name=__codelineno-48-14 href=#__codelineno-48-14></a><span class=p>}</span>
</code></pre></div> <p>See also: <a href=./#interface-authmessage>AuthMessage</a>, <a href=./#interface-transport>Transport</a></p> <h4 id=constructor_3>Constructor</h4> <p>Constructs a new instance of SimplifiedFetchTransport.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-49-1 name=__codelineno-49-1 href=#__codelineno-49-1></a><span class=kr>constructor</span><span class=p>(</span><span class=nx>baseUrl</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>fetchClient</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>defaultFetch</span><span class=p>)</span><span class=w> </span>
</code></pre></div> <p>Argument Details</p> <ul> <li><strong>baseUrl</strong></li> <li>The base URL for all HTTP requests made by this transport.</li> <li><strong>fetchClient</strong></li> <li>A fetch implementation to use for HTTP requests (default: global fetch).</li> </ul> <h4 id=method-deserializerequestpayload>Method deserializeRequestPayload</h4> <p>Deserializes a request payload from a byte array into an HTTP request-like structure.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-50-1 name=__codelineno-50-1 href=#__codelineno-50-1></a><span class=nx>deserializeRequestPayload</span><span class=p>(</span><span class=nx>payload</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=p>[])</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-50-2 name=__codelineno-50-2 href=#__codelineno-50-2></a><span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>;</span>
<a id=__codelineno-50-3 name=__codelineno-50-3 href=#__codelineno-50-3></a><span class=w>    </span><span class=nx>urlPostfix</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>;</span>
<a id=__codelineno-50-4 name=__codelineno-50-4 href=#__codelineno-50-4></a><span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=kt>string</span><span class=o>&gt;</span><span class=p>;</span>
<a id=__codelineno-50-5 name=__codelineno-50-5 href=#__codelineno-50-5></a><span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=kt>number</span><span class=p>[];</span>
<a id=__codelineno-50-6 name=__codelineno-50-6 href=#__codelineno-50-6></a><span class=w>    </span><span class=nx>requestId</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>;</span>
<a id=__codelineno-50-7 name=__codelineno-50-7 href=#__codelineno-50-7></a><span class=p>}</span><span class=w> </span>
</code></pre></div> <p>Returns</p> <p>An object representing the deserialized request, including the method, URL postfix (path and query string), headers, body, and request ID.</p> <p>Argument Details</p> <ul> <li><strong>payload</strong></li> <li>The serialized payload to deserialize.</li> </ul> <h4 id=method-ondata>Method onData</h4> <p>Registers a callback to handle incoming messages. This must be called before sending any messages to ensure responses can be processed.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-51-1 name=__codelineno-51-1 href=#__codelineno-51-1></a><span class=k>async</span><span class=w> </span><span class=nx>onData</span><span class=p>(</span><span class=nx>callback</span><span class=o>:</span><span class=w> </span><span class=p>(</span><span class=nx>message</span><span class=o>:</span><span class=w> </span><span class=kt>AuthMessage</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=ow>void</span><span class=o>&gt;</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=ow>void</span><span class=o>&gt;</span><span class=w> </span>
</code></pre></div> See also: <a href=./#interface-authmessage>AuthMessage</a></p> <p>Returns</p> <p>A promise that resolves once the callback is set.</p> <p>Argument Details</p> <ul> <li><strong>callback</strong></li> <li>A function to invoke when an incoming AuthMessage is received.</li> </ul> <h4 id=method-send>Method send</h4> <p>Sends a message to an HTTP server using the transport mechanism. Handles both general and authenticated message types. For general messages, the payload is deserialized and sent as an HTTP request. For other message types, the message is sent as a POST request to the <code>/auth</code> endpoint.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-52-1 name=__codelineno-52-1 href=#__codelineno-52-1></a><span class=k>async</span><span class=w> </span><span class=nx>send</span><span class=p>(</span><span class=nx>message</span><span class=o>:</span><span class=w> </span><span class=kt>AuthMessage</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=ow>void</span><span class=o>&gt;</span><span class=w> </span>
</code></pre></div> See also: <a href=./#interface-authmessage>AuthMessage</a></p> <p>Returns</p> <p>A promise that resolves when the message is successfully sent.</p> <p>Argument Details</p> <ul> <li><strong>message</strong></li> <li>The AuthMessage to send.</li> </ul> <p>Throws</p> <p>Will throw an error if no listener has been registered via <code>onData</code>.</p> <p>Links: <a href=#api>API</a>, <a href=#interfaces>Interfaces</a>, <a href=#classes>Classes</a>, <a href=#functions>Functions</a>, <a href=#types>Types</a>, <a href=#enums>Enums</a>, <a href=#variables>Variables</a></p> <hr> <h3 id=class-verifiablecertificate>Class: VerifiableCertificate</h3> <p>VerifiableCertificate extends the Certificate class, adding functionality to manage a verifier-specific keyring. This keyring allows selective decryption of certificate fields for authorized verifiers.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-53-1 name=__codelineno-53-1 href=#__codelineno-53-1></a><span class=k>export</span><span class=w> </span><span class=kd>class</span><span class=w> </span><span class=nx>VerifiableCertificate</span><span class=w> </span><span class=k>extends</span><span class=w> </span><span class=nx>Certificate</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-53-2 name=__codelineno-53-2 href=#__codelineno-53-2></a><span class=w>    </span><span class=kr>declare</span><span class=w> </span><span class=kr>type</span><span class=o>:</span><span class=w> </span><span class=nx>Base64String</span><span class=p>;</span>
<a id=__codelineno-53-3 name=__codelineno-53-3 href=#__codelineno-53-3></a><span class=w>    </span><span class=kr>declare</span><span class=w> </span><span class=nx>serialNumber</span><span class=o>:</span><span class=w> </span><span class=kt>Base64String</span><span class=p>;</span>
<a id=__codelineno-53-4 name=__codelineno-53-4 href=#__codelineno-53-4></a><span class=w>    </span><span class=kr>declare</span><span class=w> </span><span class=nx>subject</span><span class=o>:</span><span class=w> </span><span class=kt>PubKeyHex</span><span class=p>;</span>
<a id=__codelineno-53-5 name=__codelineno-53-5 href=#__codelineno-53-5></a><span class=w>    </span><span class=kr>declare</span><span class=w> </span><span class=nx>certifier</span><span class=o>:</span><span class=w> </span><span class=kt>PubKeyHex</span><span class=p>;</span>
<a id=__codelineno-53-6 name=__codelineno-53-6 href=#__codelineno-53-6></a><span class=w>    </span><span class=kr>declare</span><span class=w> </span><span class=nx>revocationOutpoint</span><span class=o>:</span><span class=w> </span><span class=kt>OutpointString</span><span class=p>;</span>
<a id=__codelineno-53-7 name=__codelineno-53-7 href=#__codelineno-53-7></a><span class=w>    </span><span class=kr>declare</span><span class=w> </span><span class=nx>fields</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=kt>string</span><span class=o>&gt;</span><span class=p>;</span>
<a id=__codelineno-53-8 name=__codelineno-53-8 href=#__codelineno-53-8></a><span class=w>    </span><span class=kr>declare</span><span class=w> </span><span class=nx>signature?</span><span class=o>:</span><span class=w> </span><span class=kt>HexString</span><span class=p>;</span>
<a id=__codelineno-53-9 name=__codelineno-53-9 href=#__codelineno-53-9></a><span class=w>    </span><span class=nx>keyring</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=kt>string</span><span class=o>&gt;</span><span class=p>;</span>
<a id=__codelineno-53-10 name=__codelineno-53-10 href=#__codelineno-53-10></a><span class=w>    </span><span class=nx>decryptedFields?</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=nx>Base64String</span><span class=o>&gt;</span><span class=p>;</span>
<a id=__codelineno-53-11 name=__codelineno-53-11 href=#__codelineno-53-11></a><span class=w>    </span><span class=kr>constructor</span><span class=p>(</span><span class=kr>type</span><span class=o>:</span><span class=w> </span><span class=nx>Base64String</span><span class=p>,</span><span class=w> </span><span class=nx>serialNumber</span><span class=o>:</span><span class=w> </span><span class=kt>Base64String</span><span class=p>,</span><span class=w> </span><span class=nx>subject</span><span class=o>:</span><span class=w> </span><span class=kt>PubKeyHex</span><span class=p>,</span><span class=w> </span><span class=nx>certifier</span><span class=o>:</span><span class=w> </span><span class=kt>PubKeyHex</span><span class=p>,</span><span class=w> </span><span class=nx>revocationOutpoint</span><span class=o>:</span><span class=w> </span><span class=kt>OutpointString</span><span class=p>,</span><span class=w> </span><span class=nx>fields</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=kt>string</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=nx>keyring</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=kt>string</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=nx>signature?</span><span class=o>:</span><span class=w> </span><span class=kt>HexString</span><span class=p>,</span><span class=w> </span><span class=nx>decryptedFields?</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=nx>Base64String</span><span class=o>&gt;</span><span class=p>)</span><span class=w> </span>
<a id=__codelineno-53-12 name=__codelineno-53-12 href=#__codelineno-53-12></a><span class=w>    </span><span class=k>static</span><span class=w> </span><span class=nx>fromCertificate</span><span class=p>(</span><span class=nx>certificate</span><span class=o>:</span><span class=w> </span><span class=kt>WalletCertificate</span><span class=p>,</span><span class=w> </span><span class=nx>keyring</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=kt>string</span><span class=o>&gt;</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nx>VerifiableCertificate</span><span class=w> </span>
<a id=__codelineno-53-13 name=__codelineno-53-13 href=#__codelineno-53-13></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>decryptFields</span><span class=p>(</span><span class=nx>verifierWallet</span><span class=o>:</span><span class=w> </span><span class=kt>ProtoWallet</span><span class=p>,</span><span class=w> </span><span class=nx>privileged?</span><span class=o>:</span><span class=w> </span><span class=kt>boolean</span><span class=p>,</span><span class=w> </span><span class=nx>privilegedReason?</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=kt>string</span><span class=o>&gt;&gt;</span><span class=w> </span>
<a id=__codelineno-53-14 name=__codelineno-53-14 href=#__codelineno-53-14></a><span class=p>}</span>
</code></pre></div> <p>See also: <a href=../wallet/#type-base64string>Base64String</a>, <a href=./#class-certificate>Certificate</a>, <a href=../wallet/#type-certificatefieldnameunder50bytes>CertificateFieldNameUnder50Bytes</a>, <a href=../wallet/#type-hexstring>HexString</a>, <a href=../wallet/#type-outpointstring>OutpointString</a>, <a href=../wallet/#class-protowallet>ProtoWallet</a>, <a href=../wallet/#type-pubkeyhex>PubKeyHex</a>, <a href=../wallet/#interface-walletcertificate>WalletCertificate</a></p> <h4 id=method-decryptfields_1>Method decryptFields</h4> <p>Decrypts selectively revealed certificate fields using the provided keyring and verifier wallet</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-54-1 name=__codelineno-54-1 href=#__codelineno-54-1></a><span class=k>async</span><span class=w> </span><span class=nx>decryptFields</span><span class=p>(</span><span class=nx>verifierWallet</span><span class=o>:</span><span class=w> </span><span class=kt>ProtoWallet</span><span class=p>,</span><span class=w> </span><span class=nx>privileged?</span><span class=o>:</span><span class=w> </span><span class=kt>boolean</span><span class=p>,</span><span class=w> </span><span class=nx>privilegedReason?</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=kt>string</span><span class=o>&gt;&gt;</span><span class=w> </span>
</code></pre></div> See also: <a href=../wallet/#type-certificatefieldnameunder50bytes>CertificateFieldNameUnder50Bytes</a>, <a href=../wallet/#class-protowallet>ProtoWallet</a></p> <p>Returns</p> <ul> <li>A promise that resolves to an object where each key is a field name and each value is the decrypted field value as a string.</li> </ul> <p>Argument Details</p> <ul> <li><strong>verifierWallet</strong></li> <li>The wallet instance of the certificate's verifier, used to decrypt field keys.</li> <li><strong>privileged</strong></li> <li>Whether this is a privileged request.</li> <li><strong>privilegedReason</strong></li> <li>Reason provided for privileged access, required if this is a privileged operation.</li> </ul> <p>Throws</p> <p>Throws an error if any of the decryption operations fail, with a message indicating the failure context.</p> <h4 id=method-fromcertificate>Method fromCertificate</h4> <p><div class=highlight><pre><span></span><code><a id=__codelineno-55-1 name=__codelineno-55-1 href=#__codelineno-55-1></a><span class=k>static</span><span class=w> </span><span class=nx>fromCertificate</span><span class=p>(</span><span class=nx>certificate</span><span class=o>:</span><span class=w> </span><span class=kt>WalletCertificate</span><span class=p>,</span><span class=w> </span><span class=nx>keyring</span><span class=o>:</span><span class=w> </span><span class=kt>Record</span><span class=o>&lt;</span><span class=nx>CertificateFieldNameUnder50Bytes</span><span class=p>,</span><span class=w> </span><span class=kt>string</span><span class=o>&gt;</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nx>VerifiableCertificate</span><span class=w> </span>
</code></pre></div> See also: <a href=../wallet/#type-certificatefieldnameunder50bytes>CertificateFieldNameUnder50Bytes</a>, <a href=./#class-verifiablecertificate>VerifiableCertificate</a>, <a href=../wallet/#interface-walletcertificate>WalletCertificate</a></p> <p>Returns</p> <p> A fully-formed instance containing the original certificate data plus the supplied keyring.</p> <p>Argument Details</p> <ul> <li><strong>certificate</strong></li> <li> The source certificate that was issued and signed by the certifier.</li> <li><strong>keyring</strong></li> <li> A allows the verifier to decrypt selected certificate fields.</li> </ul> <p>Links: <a href=#api>API</a>, <a href=#interfaces>Interfaces</a>, <a href=#classes>Classes</a>, <a href=#functions>Functions</a>, <a href=#types>Types</a>, <a href=#enums>Enums</a>, <a href=#variables>Variables</a></p> <hr> <h2 id=functions>Functions</h2> <table> <thead> <tr> <th></th> </tr> </thead> <tbody> <tr> <td><a href=#function-createnonce>createNonce</a></td> </tr> <tr> <td><a href=#function-verifynonce>verifyNonce</a></td> </tr> </tbody> </table> <p>Links: <a href=#api>API</a>, <a href=#interfaces>Interfaces</a>, <a href=#classes>Classes</a>, <a href=#functions>Functions</a>, <a href=#types>Types</a>, <a href=#enums>Enums</a>, <a href=#variables>Variables</a></p> <hr> <h3 id=function-createnonce>Function: createNonce</h3> <p>Creates a nonce derived from a wallet</p> <div class=highlight><pre><span></span><code><a id=__codelineno-56-1 name=__codelineno-56-1 href=#__codelineno-56-1></a><span class=k>export</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>createNonce</span><span class=p>(</span><span class=nx>wallet</span><span class=o>:</span><span class=w> </span><span class=kt>WalletInterface</span><span class=p>,</span><span class=w> </span><span class=nx>counterparty</span><span class=o>:</span><span class=w> </span><span class=kt>WalletCounterparty</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;self&quot;</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>Base64String</span><span class=o>&gt;</span><span class=w> </span>
</code></pre></div> <p>See also: <a href=../wallet/#type-base64string>Base64String</a>, <a href=../wallet/#type-walletcounterparty>WalletCounterparty</a>, <a href=../wallet/#interface-walletinterface>WalletInterface</a></p> <p>Returns</p> <p>A random nonce derived with a wallet</p> <p>Argument Details</p> <ul> <li><strong>counterparty</strong></li> <li>The counterparty to the nonce creation. Defaults to 'self'.</li> </ul> <p>Links: <a href=#api>API</a>, <a href=#interfaces>Interfaces</a>, <a href=#classes>Classes</a>, <a href=#functions>Functions</a>, <a href=#types>Types</a>, <a href=#enums>Enums</a>, <a href=#variables>Variables</a></p> <hr> <h3 id=function-verifynonce>Function: verifyNonce</h3> <p>Verifies a nonce derived from a wallet</p> <div class=highlight><pre><span></span><code><a id=__codelineno-57-1 name=__codelineno-57-1 href=#__codelineno-57-1></a><span class=k>export</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>verifyNonce</span><span class=p>(</span><span class=nx>nonce</span><span class=o>:</span><span class=w> </span><span class=kt>Base64String</span><span class=p>,</span><span class=w> </span><span class=nx>wallet</span><span class=o>:</span><span class=w> </span><span class=kt>WalletInterface</span><span class=p>,</span><span class=w> </span><span class=nx>counterparty</span><span class=o>:</span><span class=w> </span><span class=kt>WalletCounterparty</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;self&quot;</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=kt>boolean</span><span class=o>&gt;</span><span class=w> </span>
</code></pre></div> <p>See also: <a href=../wallet/#type-base64string>Base64String</a>, <a href=../wallet/#type-walletcounterparty>WalletCounterparty</a>, <a href=../wallet/#interface-walletinterface>WalletInterface</a></p> <p>Returns</p> <p>The status of the validation</p> <p>Argument Details</p> <ul> <li><strong>nonce</strong></li> <li>A nonce to verify as a base64 string.</li> <li><strong>counterparty</strong></li> <li>The counterparty to the nonce creation. Defaults to 'self'.</li> </ul> <p>Links: <a href=#api>API</a>, <a href=#interfaces>Interfaces</a>, <a href=#classes>Classes</a>, <a href=#functions>Functions</a>, <a href=#types>Types</a>, <a href=#enums>Enums</a>, <a href=#variables>Variables</a></p> <hr> <h2 id=types>Types</h2> <h2 id=enums>Enums</h2> <h2 id=variables>Variables</h2> <table> <thead> <tr> <th></th> </tr> </thead> <tbody> <tr> <td><a href=#variable-getverifiablecertificates>getVerifiableCertificates</a></td> </tr> <tr> <td><a href=#variable-validatecertificates>validateCertificates</a></td> </tr> </tbody> </table> <p>Links: <a href=#api>API</a>, <a href=#interfaces>Interfaces</a>, <a href=#classes>Classes</a>, <a href=#functions>Functions</a>, <a href=#types>Types</a>, <a href=#enums>Enums</a>, <a href=#variables>Variables</a></p> <hr> <h3 id=variable-getverifiablecertificates>Variable: getVerifiableCertificates</h3> <div class=highlight><pre><span></span><code><a id=__codelineno-58-1 name=__codelineno-58-1 href=#__codelineno-58-1></a><span class=nx>getVerifiableCertificates</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=p>(</span><span class=nx>wallet</span><span class=o>:</span><span class=w> </span><span class=kt>WalletInterface</span><span class=p>,</span><span class=w> </span><span class=nx>requestedCertificates</span><span class=o>:</span><span class=w> </span><span class=kt>RequestedCertificateSet</span><span class=p>,</span><span class=w> </span><span class=nx>verifierIdentityKey</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>VerifiableCertificate</span><span class=p>[]</span><span class=o>&gt;</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-58-2 name=__codelineno-58-2 href=#__codelineno-58-2></a><span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>matchingCertificates</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>await</span><span class=w> </span><span class=nx>wallet</span><span class=p>.</span><span class=nx>listCertificates</span><span class=p>({</span>
<a id=__codelineno-58-3 name=__codelineno-58-3 href=#__codelineno-58-3></a><span class=w>        </span><span class=nx>certifiers</span><span class=o>:</span><span class=w> </span><span class=kt>requestedCertificates.certifiers</span><span class=p>,</span>
<a id=__codelineno-58-4 name=__codelineno-58-4 href=#__codelineno-58-4></a><span class=w>        </span><span class=nx>types</span><span class=o>:</span><span class=w> </span><span class=kt>Object.keys</span><span class=p>(</span><span class=nx>requestedCertificates</span><span class=p>.</span><span class=nx>types</span><span class=p>)</span>
<a id=__codelineno-58-5 name=__codelineno-58-5 href=#__codelineno-58-5></a><span class=w>    </span><span class=p>});</span>
<a id=__codelineno-58-6 name=__codelineno-58-6 href=#__codelineno-58-6></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=k>await</span><span class=w> </span><span class=nb>Promise</span><span class=p>.</span><span class=nx>all</span><span class=p>(</span><span class=nx>matchingCertificates</span><span class=p>.</span><span class=nx>certificates</span><span class=p>.</span><span class=nx>map</span><span class=p>(</span><span class=k>async</span><span class=w> </span><span class=p>(</span><span class=nx>certificate</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-58-7 name=__codelineno-58-7 href=#__codelineno-58-7></a><span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>keyringForVerifier</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>await</span><span class=w> </span><span class=nx>wallet</span><span class=p>.</span><span class=nx>proveCertificate</span><span class=p>({</span>
<a id=__codelineno-58-8 name=__codelineno-58-8 href=#__codelineno-58-8></a><span class=w>            </span><span class=nx>certificate</span><span class=p>,</span>
<a id=__codelineno-58-9 name=__codelineno-58-9 href=#__codelineno-58-9></a><span class=w>            </span><span class=nx>fieldsToReveal</span><span class=o>:</span><span class=w> </span><span class=kt>requestedCertificates.types</span><span class=p>[</span><span class=nx>certificate</span><span class=p>.</span><span class=kr>type</span><span class=p>],</span>
<a id=__codelineno-58-10 name=__codelineno-58-10 href=#__codelineno-58-10></a><span class=w>            </span><span class=nx>verifier</span><span class=o>:</span><span class=w> </span><span class=kt>verifierIdentityKey</span>
<a id=__codelineno-58-11 name=__codelineno-58-11 href=#__codelineno-58-11></a><span class=w>        </span><span class=p>});</span>
<a id=__codelineno-58-12 name=__codelineno-58-12 href=#__codelineno-58-12></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=ow>new</span><span class=w> </span><span class=nx>VerifiableCertificate</span><span class=p>(</span><span class=nx>certificate</span><span class=p>.</span><span class=kr>type</span><span class=p>,</span><span class=w> </span><span class=nx>certificate</span><span class=p>.</span><span class=nx>serialNumber</span><span class=p>,</span><span class=w> </span><span class=nx>certificate</span><span class=p>.</span><span class=nx>subject</span><span class=p>,</span><span class=w> </span><span class=nx>certificate</span><span class=p>.</span><span class=nx>certifier</span><span class=p>,</span><span class=w> </span><span class=nx>certificate</span><span class=p>.</span><span class=nx>revocationOutpoint</span><span class=p>,</span><span class=w> </span><span class=nx>certificate</span><span class=p>.</span><span class=nx>fields</span><span class=p>,</span><span class=w> </span><span class=nx>keyringForVerifier</span><span class=p>,</span><span class=w> </span><span class=nx>certificate</span><span class=p>.</span><span class=nx>signature</span><span class=p>);</span>
<a id=__codelineno-58-13 name=__codelineno-58-13 href=#__codelineno-58-13></a><span class=w>    </span><span class=p>}));</span>
<a id=__codelineno-58-14 name=__codelineno-58-14 href=#__codelineno-58-14></a><span class=p>}</span>
</code></pre></div> <p>See also: <a href=./#interface-requestedcertificateset>RequestedCertificateSet</a>, <a href=./#class-verifiablecertificate>VerifiableCertificate</a>, <a href=../wallet/#interface-walletinterface>WalletInterface</a></p> <p>Links: <a href=#api>API</a>, <a href=#interfaces>Interfaces</a>, <a href=#classes>Classes</a>, <a href=#functions>Functions</a>, <a href=#types>Types</a>, <a href=#enums>Enums</a>, <a href=#variables>Variables</a></p> <hr> <h3 id=variable-validatecertificates>Variable: validateCertificates</h3> <div class=highlight><pre><span></span><code><a id=__codelineno-59-1 name=__codelineno-59-1 href=#__codelineno-59-1></a><span class=nx>validateCertificates</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=p>(</span><span class=nx>verifierWallet</span><span class=o>:</span><span class=w> </span><span class=kt>WalletInterface</span><span class=p>,</span><span class=w> </span><span class=nx>message</span><span class=o>:</span><span class=w> </span><span class=kt>AuthMessage</span><span class=p>,</span><span class=w> </span><span class=nx>certificatesRequested?</span><span class=o>:</span><span class=w> </span><span class=kt>RequestedCertificateSet</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=ow>void</span><span class=o>&gt;</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-59-2 name=__codelineno-59-2 href=#__codelineno-59-2></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>((</span><span class=nx>message</span><span class=p>.</span><span class=nx>certificates</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=nx>message</span><span class=p>.</span><span class=nx>certificates</span><span class=p>.</span><span class=nx>length</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=mf>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-59-3 name=__codelineno-59-3 href=#__codelineno-59-3></a><span class=w>        </span><span class=k>throw</span><span class=w> </span><span class=ow>new</span><span class=w> </span><span class=ne>Error</span><span class=p>(</span><span class=s2>&quot;No certificates were provided in the AuthMessage.&quot;</span><span class=p>);</span>
<a id=__codelineno-59-4 name=__codelineno-59-4 href=#__codelineno-59-4></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-59-5 name=__codelineno-59-5 href=#__codelineno-59-5></a><span class=w>    </span><span class=k>await</span><span class=w> </span><span class=nb>Promise</span><span class=p>.</span><span class=nx>all</span><span class=p>(</span><span class=nx>message</span><span class=p>.</span><span class=nx>certificates</span><span class=p>.</span><span class=nx>map</span><span class=p>(</span><span class=k>async</span><span class=w> </span><span class=p>(</span><span class=nx>incomingCert</span><span class=o>:</span><span class=w> </span><span class=kt>VerifiableCertificate</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-59-6 name=__codelineno-59-6 href=#__codelineno-59-6></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>incomingCert</span><span class=p>.</span><span class=nx>subject</span><span class=w> </span><span class=o>!==</span><span class=w> </span><span class=nx>message</span><span class=p>.</span><span class=nx>identityKey</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-59-7 name=__codelineno-59-7 href=#__codelineno-59-7></a><span class=w>            </span><span class=k>throw</span><span class=w> </span><span class=ow>new</span><span class=w> </span><span class=ne>Error</span><span class=p>(</span><span class=sb>`The subject of one of your certificates (&quot;</span><span class=si>${</span><span class=nx>incomingCert</span><span class=p>.</span><span class=nx>subject</span><span class=si>}</span><span class=sb>&quot;) is not the same as the request sender (&quot;</span><span class=si>${</span><span class=nx>message</span><span class=p>.</span><span class=nx>identityKey</span><span class=si>}</span><span class=sb>&quot;).`</span><span class=p>);</span>
<a id=__codelineno-59-8 name=__codelineno-59-8 href=#__codelineno-59-8></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-59-9 name=__codelineno-59-9 href=#__codelineno-59-9></a><span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=nx>certToVerify</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=ow>new</span><span class=w> </span><span class=nx>VerifiableCertificate</span><span class=p>(</span><span class=nx>incomingCert</span><span class=p>.</span><span class=kr>type</span><span class=p>,</span><span class=w> </span><span class=nx>incomingCert</span><span class=p>.</span><span class=nx>serialNumber</span><span class=p>,</span><span class=w> </span><span class=nx>incomingCert</span><span class=p>.</span><span class=nx>subject</span><span class=p>,</span><span class=w> </span><span class=nx>incomingCert</span><span class=p>.</span><span class=nx>certifier</span><span class=p>,</span><span class=w> </span><span class=nx>incomingCert</span><span class=p>.</span><span class=nx>revocationOutpoint</span><span class=p>,</span><span class=w> </span><span class=nx>incomingCert</span><span class=p>.</span><span class=nx>fields</span><span class=p>,</span><span class=w> </span><span class=nx>incomingCert</span><span class=p>.</span><span class=nx>keyring</span><span class=p>,</span><span class=w> </span><span class=nx>incomingCert</span><span class=p>.</span><span class=nx>signature</span><span class=p>);</span>
<a id=__codelineno-59-10 name=__codelineno-59-10 href=#__codelineno-59-10></a><span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=nx>isValidCert</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>await</span><span class=w> </span><span class=nx>certToVerify</span><span class=p>.</span><span class=nx>verify</span><span class=p>();</span>
<a id=__codelineno-59-11 name=__codelineno-59-11 href=#__codelineno-59-11></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=nx>isValidCert</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-59-12 name=__codelineno-59-12 href=#__codelineno-59-12></a><span class=w>            </span><span class=k>throw</span><span class=w> </span><span class=ow>new</span><span class=w> </span><span class=ne>Error</span><span class=p>(</span><span class=sb>`The signature for the certificate with serial number </span><span class=si>${</span><span class=nx>certToVerify</span><span class=p>.</span><span class=nx>serialNumber</span><span class=si>}</span><span class=sb> is invalid!`</span><span class=p>);</span>
<a id=__codelineno-59-13 name=__codelineno-59-13 href=#__codelineno-59-13></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-59-14 name=__codelineno-59-14 href=#__codelineno-59-14></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>certificatesRequested</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-59-15 name=__codelineno-59-15 href=#__codelineno-59-15></a><span class=w>            </span><span class=kd>const</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>certifiers</span><span class=p>,</span><span class=w> </span><span class=nx>types</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>certificatesRequested</span><span class=p>;</span>
<a id=__codelineno-59-16 name=__codelineno-59-16 href=#__codelineno-59-16></a><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=nx>certifiers</span><span class=p>.</span><span class=nx>includes</span><span class=p>(</span><span class=nx>certToVerify</span><span class=p>.</span><span class=nx>certifier</span><span class=p>))</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-59-17 name=__codelineno-59-17 href=#__codelineno-59-17></a><span class=w>                </span><span class=k>throw</span><span class=w> </span><span class=ow>new</span><span class=w> </span><span class=ne>Error</span><span class=p>(</span><span class=sb>`Certificate with serial number </span><span class=si>${</span><span class=nx>certToVerify</span><span class=p>.</span><span class=nx>serialNumber</span><span class=si>}</span><span class=sb> has an unrequested certifier: </span><span class=si>${</span><span class=nx>certToVerify</span><span class=p>.</span><span class=nx>certifier</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
<a id=__codelineno-59-18 name=__codelineno-59-18 href=#__codelineno-59-18></a><span class=w>            </span><span class=p>}</span>
<a id=__codelineno-59-19 name=__codelineno-59-19 href=#__codelineno-59-19></a><span class=w>            </span><span class=kd>const</span><span class=w> </span><span class=nx>requestedFields</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>types</span><span class=p>[</span><span class=nx>certToVerify</span><span class=p>.</span><span class=kr>type</span><span class=p>];</span>
<a id=__codelineno-59-20 name=__codelineno-59-20 href=#__codelineno-59-20></a><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>requestedFields</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-59-21 name=__codelineno-59-21 href=#__codelineno-59-21></a><span class=w>                </span><span class=k>throw</span><span class=w> </span><span class=ow>new</span><span class=w> </span><span class=ne>Error</span><span class=p>(</span><span class=sb>`Certificate with type </span><span class=si>${</span><span class=nx>certToVerify</span><span class=p>.</span><span class=kr>type</span><span class=si>}</span><span class=sb> was not requested`</span><span class=p>);</span>
<a id=__codelineno-59-22 name=__codelineno-59-22 href=#__codelineno-59-22></a><span class=w>            </span><span class=p>}</span>
<a id=__codelineno-59-23 name=__codelineno-59-23 href=#__codelineno-59-23></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-59-24 name=__codelineno-59-24 href=#__codelineno-59-24></a><span class=w>        </span><span class=k>await</span><span class=w> </span><span class=nx>certToVerify</span><span class=p>.</span><span class=nx>decryptFields</span><span class=p>(</span><span class=nx>verifierWallet</span><span class=p>);</span>
<a id=__codelineno-59-25 name=__codelineno-59-25 href=#__codelineno-59-25></a><span class=w>    </span><span class=p>}));</span>
<a id=__codelineno-59-26 name=__codelineno-59-26 href=#__codelineno-59-26></a><span class=p>}</span>
</code></pre></div> <p>See also: <a href=./#interface-authmessage>AuthMessage</a>, <a href=./#class-certificate>Certificate</a>, <a href=./#interface-requestedcertificateset>RequestedCertificateSet</a>, <a href=./#class-verifiablecertificate>VerifiableCertificate</a>, <a href=../wallet/#interface-walletinterface>WalletInterface</a>, <a href=../compat/#variable-verify>verify</a></p> <p>Links: <a href=#api>API</a>, <a href=#interfaces>Interfaces</a>, <a href=#classes>Classes</a>, <a href=#functions>Functions</a>, <a href=#types>Types</a>, <a href=#enums>Enums</a>, <a href=#variables>Variables</a></p> <hr> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.expand", "navigation.indexes", "navigation.top", "search.highlight", "search.share", "content.code.copy"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../assets/javascripts/bundle.92b07e13.min.js></script> </body> </html>